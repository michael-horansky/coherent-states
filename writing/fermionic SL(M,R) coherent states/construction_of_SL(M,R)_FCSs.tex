\documentclass[12pt]{article}
\usepackage[a4paper, total={7.5in, 8in}]{geometry}
\usepackage{xargs}
\usepackage{amsmath,amssymb}
\usepackage{hyperref}
\usepackage{physics}
\usepackage{graphicx}

\usepackage{simpler-wick}

\newcommand{\sgn}{\text{sgn}}
\newcommand{\seq}[1]{\langle #1\rangle}
\newcommand{\asc}[1]{\upharpoonleft #1 \upharpoonright}
\newcommand{\hc}{^\dagger}
\newcommand{\inv}{^{-1}}
\newcommand{\Sym}{\text{Sym}}
\newcommand{\normord}[1]{:\mathrel{\mspace{2mu}#1\mspace{2mu}}:}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}

\begin{document}

	\title{Construction of $U(1)\otimes SL(M,\mathbb{R})$ fermionic coherent states on the particle-preserving dynamical group.}
	\author{Michal Horansk√Ω}	
	\maketitle
	
	\abstract{The dynamical group of a fermionic system with $M$ modes which preserves total particle number is identified as $G=U(1)\otimes SL(M,\mathbb{R})$. A reference state $\ket{\phi_0}$ is constructed as a member of the full occupancy basis by partitioning the modes into $\pi_1$ ($S$ occupied modes) and $\pi_0$ ($M-S$ unoccupied modes). The quotient space of $(G,\ket{\phi_0})$ is shown to be generated by $\hat{f}_i\hc\hat{f}_j$, where $i\in\pi_0,j\in\pi_1$, and a generalised coherent state $\ket{Z}$ belonging to this quotient space is decomposed into the full occupancy basis. The overlap element $\braket{Z_a}{Z_b}$ is shown to be $\frac{\det(I_S+Z_a\hc Z_b)}{\sqrt{\det(I_S+Z_a\hc Z_a)\det(I_S+Z_b\hc Z_b)}}$. The action of the "transition operator" $\hat{f}_i\hc\hat{f}_j$ (for arbitrary $i,j$) on $\ket{Z}$ is expressed in the full occupancy basis, and the expression for a general two-body-interacting total-particle-preserving Hamiltonian matrix element $\mel{Z_a}{\hat{H}}{Z_b}$ is given. The time complexity of calculating said quantities is discussed.}
	
	\newpage
	
	\tableofcontents
	
	\section{Construction of $U(1)\otimes SL(M,\mathbb{R})$ coherent states}
	Consider a system with $M$ modes and $S<M$ fermions, each occupying one of the modes. The Pauli exclusion principle forbids more than one fermion in a single mode, and thus the full Hilbert space is spanned by a full occupancy basis where each element is parametrised by a permuted sequence of $S$ ones and $M-S$ zeroes. The size of this basis is $M\choose S$.
	
	\subsection{Dynamical group and its operator algebra}
	The basis of the system as described above can be transversed by applying the transition operators
	\begin{equation}
	\hat{T}_{ij}=\hat{f}\hc_i\hat{f}_j
	\end{equation}
	Using the commutator identities in Eq. \ref{eq:commutators} we obtain
	\begin{align}\label{eq:transition commutator}
	\comm{\hat{T}_{ij}}{\hat{T}_{i'j'}}&=\comm{\hat{f}\hc_i\hat{f}_j}{\hat{f}\hc_{i'}\hat{f}_{j'}}\nonumber\\
	&=\comm{\hat{f}\hc_i}{\hat{f}\hc_{i'}}\hat{f}_j\hat{f}_{j'}+\hat{f}\hc_{i'}\comm{\hat{f}\hc_i}{\hat{f}_{j'}}\hat{f}_j+\hat{f}\hc_i\comm{\hat{f}_j}{\hat{f}\hc_{i'}}\hat{f}_{j'}+\hat{f}\hc_{i'}\hat{f}\hc_i\comm{\hat{f}_j}{\hat{f}_{j'}}\nonumber\\
	&=2\hat{f}\hc_i\hat{f}\hc_{i'}\hat{f}_j\hat{f}_{j'}+\hat{f}\hc_{i'}(2\hat{f}\hc_i\hat{f}_{j'}-\delta_{ij'})\hat{f}_j+\hat{f}\hc_i(\delta_{i'j}-2\hat{f}\hc_{i'}\hat{f}_j)\hat{f}_{j'}+2\hat{f}\hc_{i'}\hat{f}\hc_i\hat{f}_j\hat{f}_{j'}\nonumber\\
	&=\hat{f}\hc_i\hat{f}_{j'}\delta_{i'j}-\hat{f}\hc_{i'}\hat{f}_j\delta_{ij'}=\hat{T}_{ij'}\delta_{i'j}-\hat{T}_{i'j}\delta_{ij'}
	\end{align}
	We see that $\hat{T}_{ij}$ form the Lie algebra of $U(M)$, however, since our total particle number is preserved, we choose to perform a basis transformation like so:
	\begin{eqnarray*}
	\hat{S}&=&\sum_{i=1}^M\hat{T}_{ii}\\
	\hat{H}_i&=&\hat{T}_{i+1,i+1}-\hat{T}_{ii}\qq{for}i=1,2\dots M-1\\
	\hat{E}_{ij}&=&\hat{T}_{ij}\qq{for}i>j\\
	\hat{E}_{ij}^\dagger &=&\hat{T}_{ji}\qq{for}i>j
	\end{eqnarray*}
	This set of operators forms the basis to the Lie algebra of $U(1)\otimes SL(M,\mathbb{R})$, which we will identify as our dynamical group $G$. Other choices of $G$ would lead to equivalent coherent state constructions: namely, not transforming the basis at all would simply yield $G=U(M)$, as done in \cite[Sec. 4.3.4]{dynamical_groups}; taking a complex linear transformation $\hat{T}_{ij}+\hat{T}_{ji}$ and $i(\hat{T}_{ij}-\hat{T}_{ji})$ would form the basis to the Lie algebra of $U(1)\otimes SU(M)$, which is equal to our choice under complexification of its algebra.
	
	
	\subsection{Reference state and quotient space}
	For the reference state we partition the set of modes like so:
	\begin{equation}
	\pi_1=\{1,2\dots S\}\qquad\pi_0=\{S+1, S+2\dots M\}
	\end{equation}
	and then
	\begin{equation}\label{eq:reference state definition}
	\ket{\phi_0}=\ket{\pi_1}=\ket{n_1, n_2\dots n_M}\qq{where}n_i=\begin{cases} 1 & \text{for }i\in\pi_1\\ 0 & \text{for } i\in\pi_0 \end{cases}
	\end{equation}
	Then the action of a transition operator on the reference state is
	\begin{equation}
	\hat{T}_{ij}\ket{\phi_0}=\begin{cases}
		(-1)^{S+j}\ket{\pi_1-\{j\}+\{i\}} & \text{if } i\in\pi_0, j\in\pi_1\\
		n_i\ket{\phi_0} & \text{if } i = j, j\in\pi_1\\
		0 & \text{otherwise}
	\end{cases}
	\end{equation}
	Therefore the exponential map of the first option transverses the quotient space, and an unnormalised coherent state is formed as
	\begin{equation}\label{eq:exponential ket}
	\unnormket{Z}=\exp(\sum_{i\in\pi_0}\sum_{j\in\pi_1}(-1)^{S+j}Z_{ij}\hat{T}_{ij})\ket{\phi_0}
	\end{equation}
	We see that the general coherent state has $S(M-S)$ complex parameters\footnote{There is no further reduction of degrees of freedom due to normalisation or fixing the global phase, as it can be trivially seen that, in the decomposition into the full occupancy basis, the reference state always appears with coefficient $1$. A trivial but interesting consequence is that normalisation, which projects an element of the space of $\unnormket{Z}$ onto the space of $\ket{Z}$ is bijective.}. The normalised state $\ket{Z}$ can be constructed like so:
	\begin{equation}
	\ket{Z} = N(Z)\unnormket{Z}\qq{where}N(Z)=\frac{1}{\sqrt{\unnormbraket{Z}{Z}}}
	\end{equation}
	Note that, for the sake of simplicity of notation, the row indices on $Z$ are shifted by $S$, i.e. $Z_{ij}$ labels the $(i-S)$-th row, $j$-th column of the $(M-S,S)$ matrix $Z$.
	
	\subsection{Decomposition into the full occupancy basis}
	In this subsection we decompose a coherent state $\unnormket{Z}$ into the full occupancy basis; i.e. we wish to find the overlap
	\begin{equation}
	\braket{n_1,n_2\dots n_M}{Z}\qq{for any sequence of}n_i\in\{0,1\}\qq{where}\sum_{i=1}^M n_i=S
	\end{equation}
	\subsubsection{General approach to CS decomposition}
	This method is based on the approach in \cite[App. E]{buonsante}. Suppose we have a reference state $\ket{\phi_0}$, and the quotient space of the dynamical group of some system is transversed by the exponential map of the operator $\hat{D}(z)$, so that
	\begin{equation}
	\unnormket{z}=e^{\hat{D}(z)}\ket{\phi_0}
	\end{equation}
	and $\hat{D}(z)$ is a linear combination of transition operators which all destroy the vacuum state\footnote{This is characteristic of dynamical groups which preserve total particle number.}. Define $\hat{\phi}_0$ as such an operator so that
	\begin{equation}
	\hat{\phi}_0\ket{\rm vac.} = \ket{\phi_0}
	\end{equation}
	Then we can write
	\begin{equation}
	\unnormket{z}=e^{\hat{D}(z)}\hat{\phi}_0e^{-\hat{D}(z)}\ket{\rm vac.}
	\end{equation}
	using the fact that $\hat{D}(z)\ket{\rm vac.}=0$. We now express the operator product using Hadamard's lemma:
	\begin{equation}\label{eq:hadamard sum}
	e^{\hat{D}(z)}\hat{\phi}_0e^{-\hat{D}(z)}=\sum_{r=0}^\infty \frac{1}{r!}\comm{\hat{D}(z)}{\hat{\phi}_0}_r
	\end{equation}
	where
	\begin{equation}
	\comm{\hat{A}}{\hat{B}}_r=\comm{\hat{A}}{\comm{\hat{A}}{\hat{B}}_{r-1}}\qq{and}\comm{\hat{A}}{\hat{B}}_0=\hat{B}
	\end{equation}
	are the repeated commutators. The unnormalised coherent state is obtained by acting with this sum on the vacuum state.
	\subsubsection{Repeated commutators of the fermionic coherent states}
	In our case, we identify
	\begin{equation}
	\hat{D}(Z)=\sum_{i\in\pi_0}\sum_{j\in\pi_1}(-1)^{S+j}Z_{ij}\hat{T}_{ij}\qq{and}\hat{\phi}_0=\hat{f}\hc_{\seq{\pi_1}}
	\end{equation}
	To find the repeated commutators, we first observe
	\begin{align}
	\comm{\hat{T}_{ij}}{\hat{f}\hc_{\seq{\sigma}}}&=\sum_{k=1}^{\abs{\seq{\sigma}}}\hat{f}\hc_{\seq{\sigma}_1}\dots \hat{f}\hc_{\seq{\sigma}_{k-1}}\comm{\hat{T}_{ij}}{\hat{f}\hc_{\seq{\sigma}_k}}\hat{f}\hc_{\seq{\sigma}_{k+1}}\dots \hat{f}\hc_{\seq{\sigma}_\abs{\seq{\sigma}}}\nonumber\\
	&= \sum_{k=1}^{\abs{\seq{\sigma}}}\hat{f}\hc_{\seq{\sigma}_1}\dots \hat{f}\hc_{\seq{\sigma}_{k-1}}\left(\hat{f}\hc_{i}\delta_{j,\seq{\sigma}_k}\right)\hat{f}\hc_{\seq{\sigma}_{k+1}}\dots \hat{f}\hc_{\seq{\sigma}_\abs{\seq{\sigma}}}\nonumber\\
	&=\begin{cases}
		\hat{f}\hc_{\seq{\sigma}_1}\dots \hat{f}\hc_{\seq{\sigma}_{k-1}}\hat{f}\hc_{i}\hat{f}\hc_{\seq{\sigma}_{k+1}}\dots \hat{f}\hc_{\seq{\sigma}_\abs{\seq{\sigma}}} \text{ where } \seq{\sigma}_k=j & \text{if } j\in\seq{\sigma}\\
		0 & \text{if } j\notin\seq{\sigma}
	\end{cases}
	\end{align}
	When calculating $\comm{\hat{D}(Z)}{\hat{\phi}_0}$, the expression is simplified due to the trivial nature of the creation operator product sequence, with every $j\in\seq{\pi_1}$ and every $i>S$:
	\begin{equation}
	\comm{\hat{T}_{ij}}{\hat{f}\hc_{\seq{\pi_1}}}=\hat{f}\hc_1\dots \hat{f}\hc_{j-1}\hat{f}\hc_{i}\hat{f}\hc_{j+1}\dots \hat{f}\hc_{S}\qq{where}i\in\pi_0,j\in\pi_1
	\end{equation}
	Therefore the full commutator is
	\begin{equation}\label{eq:first commutator}
	\comm{\hat{D}(Z)}{\hat{\phi}_0}_1=\sum_{i\in\pi_0}\sum_{j\in\pi_1}(-1)^{S+j}Z_{ij}\hat{f}\hc_1\dots \hat{f}\hc_{j-1}\hat{f}\hc_{i}\hat{f}\hc_{j+1}\dots \hat{f}\hc_{S}
	\end{equation}
	To find the second commutator, we commute $\hat{D}(Z)$ with the result of Eq. \ref{eq:first commutator}:
	\begin{equation}
	\comm{\hat{D}(Z)}{\hat{\phi}_0}_2=\sum_{i\in\pi_0}\sum_{j\in\pi_1}\sum_{i'\in\pi_0}\sum_{j'\in\pi_1}(-1)^{2S+j+j'}Z_{ij}Z_{i'j'}\comm{T_{i'j'}}{\hat{f}\hc_1\dots \hat{f}\hc_{j-1}\hat{f}\hc_{i}\hat{f}\hc_{j+1}\dots \hat{f}\hc_{S}}
	\end{equation}
	The result is zero if $j=j'$ (since the commutator vanishes) or if $i=i'$ (since there would be two creation operators acting on the $i$-th mode). Hence we can restrict the sum domains for $j'$ as $\pi_1-\{j\}$ and for $i'$ as $\pi_0-\{i\}$, respectively. Then, the index pairs $i,i'$ and $j,j'$ are all $2$-element (not necessarily ascending) sequences on $\pi_0$ and $\pi_1$, respectively. Therefore, the expression can be rewritten by summing the summand over all \textit{ascending} subsequences $\seq{a}\in\Gamma_2\seq{\pi_0}, \seq{b}\in\Gamma_2\seq{\pi_1}$, and also summing over all of their permutations. By induction it is obvious that the $x$-th commutator can be expressed as
	\begin{equation}
	\comm{\hat{D}(Z)}{\hat{\phi}_0}_x=\sum_{\seq{a}\in\Gamma_x\seq{\pi_0}}\sum_{\seq{b}\in\Gamma_x\seq{\pi_1}}(-1)^{Sx+\sum\seq{b}}\sum_{P_a\in P^x}\sum_{P_b\in P^x}\left(\prod_{u=1}^x Z_{P_a\seq{a}_u,P_b\seq{b}_u}\right)\hat{f}\hc_{\upsilon(P_a\seq{a},P_b\seq{b})}
	\end{equation}
	where the creation operator product is over a (not necessarily ascending) sequence $\upsilon(P_a\seq{a},P_b\seq{b})$ which is constructed by taking the ascending sequence $\seq{\pi_1}$ and then replacing element $P_b\seq{b}_i$ by element $P_a\seq{a}_i$ for $i=1,2\dots x$. A trivial but important corollary of this construction is that the sign of any further permutation of either $P_a\seq{a}$ or $P_b\seq{b}$ equals the sign of the corresponding permutation of the entire $\upsilon$ sequence.
	Before proceeding, let us find the monotonic ordering of $\hat{f}\hc_{\upsilon(P_a\seq{a},P_b\seq{b})}$ using Eq. \ref{eq:permutation of sequence}. First, since $\sgn(P)=\sgn(P^{-1})$, we undo the permutations on $\seq{a}, \seq{b}$, obtaining:
	\begin{equation}
	\hat{f}\hc_{\upsilon(P_a\seq{a},P_b\seq{b})}=\sgn(P_a)\sgn(P_b)\hat{f}\hc_{\upsilon(\seq{a},\seq{b})}
	\end{equation}
	We now wish to find the sign of the permutation which turns $\upsilon(\seq{a},\seq{b})$ into an ascending sequence. This permutation can be expressed as a composition of cyclic permutations, where each brings a particular element $\seq{a}_i$ (which is the $\seq{b}_i$-th element of $\upsilon$) right after the largest element smaller or equal to $S$, starting with $\seq{a}_x$ and working backwards. For the $i$-th element of the replacement subsequence, $\seq{a}_i$, the old index of the element is $\seq{b}_i$, and the new index of the element is $S-(x-i)$, where $x-i$ counts the number of elements which were shifted before $\seq{a}_i$, thus lowering the target index by $1$ each. Thus the sign of the corresponding cyclic permutation is $(-1)^{S+1+i-x-\seq{b}_i}$. Permuting all the elements of the replacement subsequence until $\upsilon$ is ascending yields the total sign
	\begin{equation}
	\sgn(\upsilon\to\seq{\upsilon})=(-1)^{\sum_{i=1}^x S+1+i-x-\seq{b}_i}=(-1)^{\frac{1}{2}x(2S-1-x)-\sum\seq{b}}
	\end{equation}
	Collecting the monotone-ordered creation operator product sequences, we obtain
	\begin{multline}
	\comm{\hat{D}(Z)}{\hat{\phi}_0}_x=\\
	(-1)^{\frac{1}{2}x(x+1)}\sum_{\seq{a}\in\Gamma_x\seq{\pi_0}}\sum_{\seq{b}\in\Gamma_x\seq{\pi_1}}\hat{f}\hc_{\seq{\pi_1-\{b\}+\{a\}}}\sum_{P_a\in P^x}\sum_{P_b\in P^x}\sgn(P_a)\sgn(P_b)\left(\prod_{u=1}^x Z_{P_a\seq{a}_u,P_b\seq{b}_u}\right)
	\end{multline}
	Now: since the product of scalar matrix elements $Z_{P_a\seq{a}_u,P_b\seq{b}_u}$ is commutative, we may permute the order in which the product is taken without altering the result:
	\begin{equation}
	\prod_{u=1}^x Z_{P_a\seq{a}_u,P_b\seq{b}_u}=\prod_{u=1}^x Z_{P_cP_a\seq{a}_u,P_cP_b\seq{b}_u}\qq{for any}P_c\in P^x
	\end{equation}
	Choosing $P_c=P_a\inv$ and noting that $\sgn(P_a)=\sgn(P_a\inv)$ we obtain
	\begin{equation}
	\sum_{P_a\in P^x}\sum_{P_b\in P^x}\sgn(P_a)\sgn(P_b)\left(\prod_{u=1}^x Z_{P_a\seq{a}_u,P_b\seq{b}_u}\right)=	\sum_{P_a\in P^x}\sum_{P_b\in P^x}\sgn(P_a\inv P_b)\left(\prod_{u=1}^x Z_{\seq{a}_u,P_a\inv P_b\seq{b}_u}\right)
	\end{equation}
	Since $P^x$ forms a group under composition, there is a unique element $P_a\inv P_b\in P^x$ for all $P_b\in P^x$, and therefore summing over all $P_b$ is equivalent to summing over all $P_a\inv P_b$. Denoting $P_a\inv P_b=P_c$ we obtain
	\begin{equation}
	\sum_{P_a\in P^x}\sum_{P_b\in P^x}\sgn(P_a\inv P_b)\left(\prod_{u=1}^x Z_{\seq{a}_u,P_a\inv P_b\seq{b}_u}\right) = \sum_{P_a\in P^x}\sum_{P_c\in P^x}\sgn(P_c)\left(\prod_{u=1}^x Z_{\seq{a}_u,P_c\seq{b}_u}\right)
	\end{equation}
	The summand is independent on $P_a$, turning the sum over $P_a$ into a constant factor of $\abs{P^x}=x!$. The rest of the expression can be identified as the determinant of a submatrix of $Z$ equal to $Z_{\seq{a},\seq{b}}$. Hence the commutator becomes
	\begin{equation}\label{eq:general commutator}
	\comm{\hat{D}(Z)}{\hat{\phi}_0}_x=
	(-1)^{\frac{1}{2}x(x+1)}x!\sum_{\seq{a}\in\Gamma_x\seq{\pi_0}}\sum_{\seq{b}\in\Gamma_x\seq{\pi_1}}\det(Z_{\seq{a},\seq{b}})\hat{f}\hc_{\seq{\pi_1-\{b\}+\{a\}}}
	\end{equation}
	\subsubsection{The unnormalised coherent state}
	Substituing Eq. \ref{eq:general commutator} into Eq. \ref{eq:hadamard sum} and acting on the vacuum state, for which we invoke Eq. \ref{eq:ascending creation on vacuum}, allows us to write down the unnormalised fermionic coherent state:
	\begin{equation}\label{eq:unnormalised coherent state}
	\unnormket{Z}=\sum_{r=0}^{\min(S,M-S)}(-1)^{\frac{1}{2}r(r+1)}\sum_{\seq{a}\in\Gamma_r\seq{\pi_0}}\sum_{\seq{b}\in\Gamma_r\seq{\pi_1}}\det(Z_{\seq{a},\seq{b}})\ket{\pi_1-\{b\}+\{a\}}
	\end{equation}
	where we used the fact that $\comm{\hat{D}(Z)}{\hat{\phi}_0}_r=0$ if $r$ is bigger than either $S$ or $M-S$, as there are no subsequences of $\pi_1$ and $\pi_0$ of size $r$.
	
	\section{Overlaps of $U(1)\otimes SL(M,\mathbb{R})$ coherent states} \label{sec:overlaps}
	
	\subsection{Overlap of two coherent states}
	
	Consider two unnormalised fermionic coherent states $\unnormket{Z_a}, \unnormket{Z_b}$. To calculate their overlap, we use Eq. \ref{eq:unnormalised coherent state}:
	\begin{equation}
	\unnormbraket{Z_a}{Z_b}=\sum_{r=0}^{\min(S,M-S)}\sum_{\seq{a}\in\Gamma_r\seq{\pi_0}}\sum_{\seq{b}\in\Gamma_r\seq{\pi_1}}\det((Z_a)_{\seq{a},\seq{b}})^*\det((Z_b)_{\seq{a},\seq{b}})
	\end{equation}
	where we used the fact that the full occupancy basis is orthonormal. Let us express $Z_a$ using its Hermitian conjugate, using the fact that $\det(A)^*=\det(A^*)$:
	\begin{equation}\label{eq: overlap intermediate step}
	\unnormbraket{Z_a}{Z_b}=\sum_{r=0}^{\min(S,M-S)}\sum_{\seq{a}\in\Gamma_r\seq{\pi_0}}\sum_{\seq{b}\in\Gamma_r\seq{\pi_1}}\det((Z_a\hc)_{\seq{b}, \seq{a}})\det((Z_b)_{\seq{a},\seq{b}})
	\end{equation}
	Invoking the Cauchy-Binet formula for both possible reductions yields
	\begin{equation}
	\unnormbraket{Z_a}{Z_b}=\sum_{r=0}^{\min(S,M-S)}\sum_{\seq{b}\in\Gamma_r\seq{\pi_1}}\det((Z_a\hc Z_b)_{\seq{b}, \seq{b}})=\sum_{r=0}^{\min(S,M-S)}\sum_{\seq{a}\in\Gamma_r\seq{\pi_0}}\det((Z_b Z_a\hc)_{\seq{a}, \seq{a}})
	\end{equation}
	We identify the determinant of a submatrix with row indices equal to column indices as a principal minor of the square matrix $Z_a\hc Z_b$ (or $Z_b Z_a\hc$). The sum over all $k$-order principal minors of a square matrix $A_{(n\cross n)}$, here denoted $T^A_k$, is easily calculable from the characteristic polynomial of $A$ defined as $p_A(\lambda)=\det(\lambda I_n-A)$, using the well-known formula
	\begin{equation}
	\det(\lambda I_n-A)=\sum_{k=0}^n \lambda^{n-k}(-1)^k T^A_k
	\end{equation}
	Evaluating the characteristic polynomial at $\lambda = -1$ yields
	\begin{equation}
	\det(-I_n-A)=\sum_{k=0}^n (-1)^n T^A_k\qq{or, to standardise the sign,} \det(I_n+A)=\sum_{k=0}^n T^A_k
	\end{equation}
	Since the overlap is a sum of all principal minors of all orders, it can be evaluated as
	\begin{equation}
	\unnormbraket{Z_a}{Z_b}=\det(I_{S}+Z_a\hc Z_b)=\det(I_{M-S}+Z_b Z_a\hc)
	\end{equation}
	This also gives us the normalisation function $N(Z)$:
	\begin{equation}
	N(Z)=\frac{1}{\sqrt{\det(I_{S}+Z\hc Z)}}=\frac{1}{\sqrt{\det(I_{M-S}+ZZ\hc)}}
	\end{equation}
	
	\subsection{Overlap integrals of creation and annihilation operators} \label{sec:reduced overlaps}
	
	Consider the overlap integral of a general normal-ordered product sequence of creation and annihilation operators:
	\begin{equation}
	\mel{Z_a}{\hat{f}\hc_{P_1\seq{\rho}^-}\hat{f}_{P_2\seq{\rho'}}}{Z_b}
	\end{equation}
	The rest of Sec. \ref{sec:reduced overlaps} is dedicated to calculating this overlap integral. We can observe certain general rules which apply to the expression, which allow us to rewrite it as a composition of simpler problems, each of which is tackled below.
	
	First, the overlap integral can be conceptualised as the overlap of $\hat{f}_{P_1\seq{\rho}}\ket{Z_a}$ and $\hat{f}_{P_2\seq{\rho'}}\ket{Z_b}$. Since each annihilation operator lowers the total particle number by one, this overlap vanishes if $\abs{\seq{\rho}}\neq\abs{\seq{\rho'}}$.
	
	Second, due to the normal ordering, the overlap vanishes if any index repeats more than once in either $\seq{\rho}$ or $\seq{\rho'}$. This guarantees that strictly descending, resp. ascending sequences $\seq{\rho}^-,\seq{\rho'}$ exist, and can be constructed by undoing the permutations $P_1,P_2$.
	
	Third, we shall partition $\rho$ and $\rho'$ like so:
	\begin{equation}
	\rho = \sigma \cup \tau\qq{where}\sigma\in\pi_1,\tau\in\pi_0\qq{and}\rho' = \sigma' \cup \tau'\qq{where}\sigma'\in\pi_1,\tau'\in\pi_0
	\end{equation}
	The monotone-ordered overlap integral then becomes
	\begin{equation}
	\mel{Z_a}{\hat{f}\hc_{P_1\seq{\rho}^-}\hat{f}_{P_2\seq{\rho'}}}{Z_b}=\sgn(P_1)\sgn(P_2)\mel{Z_a}{\hat{f}\hc_{\seq{\tau}^-}\hat{f}\hc_{\seq{\sigma}^-}\hat{f}_{\seq{\sigma'}}\hat{f}_{\seq{\tau'}}}{Z_b}
	\end{equation}
	The scope of the rest of this section is to express the overlap integral in closed form.
	
	\subsubsection{Action of the fermionic operators on the coherent state}
	Let us define $\eta_x(S)$ as the number of elements of $S$ smaller than $x$. Then the action of the creation and annihilation operator on an occupancy basis state is
	\begin{eqnarray}
	\hat{f}\hc_i\ket{\sigma}=\begin{cases}
		(-1)^{\eta_i(\sigma)}\ket{\sigma + \{i\}} & \text{if }i\notin\sigma\\
		0 & \text{if }i\in\sigma
	\end{cases}\\
	\hat{f}_i\ket{\sigma}=\begin{cases}
		(-1)^{\eta_i(\sigma)}\ket{\sigma - \{i\}} & \text{if }i\in\sigma\\
		0 & \text{if }i\notin\sigma
	\end{cases}
	\end{eqnarray}
	Therefore, the action of the creation operator on an unnormalised fermionic coherent state is
	\begin{multline}
	i\in\pi_1\qq{:}\hat{f}\hc_{i}\unnormket{Z}=\\
	\sum_{r=0}^{\min(S,M-S)}(-1)^{\frac{1}{2}r(r+1)}\sum_{\seq{a}\in\Gamma_{r}\seq{\pi_0}}\sum_{\seq{b}\in\Gamma_{r-1}\seq{\pi_1-\{i\}}}\det(Z_{\seq{a},\seq{b\cup\{i\}}})(-1)^{i-1-\eta_i(\seq{b})}\ket{\pi_1-\{b\}+\{a\}}
	\end{multline}
	\begin{multline}
	i\in\pi_0\qq{:}\hat{f}\hc_{i}\unnormket{Z}=\\
	\sum_{r=0}^{\min(S,M-S-1)}(-1)^{\frac{1}{2}r(r+1)}\sum_{\seq{a}\in\Gamma_{r}\seq{\pi_0-\{i\}}}\sum_{\seq{b}\in\Gamma_{r}\seq{\pi_1}}\det(Z_{\seq{a},\seq{b}})(-1)^{S-r-\eta_i(\seq{a})}\ket{\pi_1-\{b\}+\{a\}+\{i\}}
	\end{multline}
	And, the action of the annihilation operator on an unnormalised fermionic coherent state is
	\begin{multline} \label{eq: pi_1 reduction action}
	i\in\pi_1\qq{:}\hat{f}_{i}\unnormket{Z}=\\
	\sum_{r=0}^{\min(S-1,M-S)}(-1)^{\frac{1}{2}r(r+1)}\sum_{\seq{a}\in\Gamma_r\seq{\pi_0}}\sum_{\seq{b}\in\Gamma_r\seq{\pi_1-\{i\}}}\det(Z_{\seq{a},\seq{b}})(-1)^{i-1-\eta_i(\seq{b})}\ket{\pi_1-\{b\}+\{a\}-\{i\}}
	\end{multline}
	\begin{multline} \label{eq: pi_0 reduction action}
	i\in\pi_0\qq{:}\hat{f}_{i}\unnormket{Z}=\\
	\sum_{r=1}^{\min(S,M-S)}(-1)^{\frac{1}{2}r(r+1)}\sum_{\seq{a}\in\Gamma_{r-1}\seq{\pi_0-\{i\}}}\sum_{\seq{b}\in\Gamma_r\seq{\pi_1}}\det(Z_{\seq{a\cup\{i\}},\seq{b}})(-1)^{S-r-\eta_i(\seq{a})}\ket{\pi_1-\{b\}+\{a\}}
	\end{multline}
	It is precisely the annihilation operators which are of importance to us. By applying Eqns. \ref{eq: pi_1 reduction action} and \ref{eq: pi_0 reduction action} repeatedly, for $\sigma\in\pi_1, \tau\in\pi_0$ we obtain
	\begin{multline} \label{eq: general reduction action}
	\hat{f}_{\seq{\sigma}}\hat{f}_{\seq{\tau}}\unnormket{Z}=\sum_{r=\abs{\tau}}^{\min(S-\abs{\sigma}, M-S)}(-1)^{\frac{1}{2}r(r+1)}\sum_{\seq{a}\in\Gamma_{r-\abs{\tau}}\seq{\pi_0-\tau}}\sum_{\seq{b}\in\Gamma_r\seq{\pi_1-\sigma}}(-1)^{\abs{\tau}(S-r)+\frac{1}{2}\abs{\tau}(\abs{\tau}-1)+\sum_i\eta_{\tau_i}(\seq{a})}\\
	\cdot (-1)^{-\abs{\sigma}+\sum_i(\sigma_i+\eta_{\sigma_i}(\seq{b}))}\det(Z_{\seq{a\cup\tau},\seq{b}})\ket{\pi_1\cup a-b\cup\sigma}
	\end{multline}
	where we used the fact that
	\begin{equation}
	\sum_i\eta_{\tau_i}(\seq{a\cup\tau})=\sum_i\eta_{\tau_i}(\seq{a})+\sum_i\eta_{\tau_i}(\seq{\tau})=\sum_i\eta_{\tau_i}(\seq{a})+\frac{1}{2}\abs{\tau}(\abs{\tau}-1)
	\end{equation}
	
	\subsubsection{Overlap integral with a product sequence of fermionic operators}
	Applying Eq. \ref{eq: general reduction action} to $\hat{f}_{\sigma}\hat{f}_{\tau}\unnormket{Z_a}$ and $\hat{f}_{\sigma'}\hat{f}_{\tau'}\unnormket{Z_b}$ and taking the overlap yields
	\begin{multline}
	\mel{Z_a}{\hat{f}\hc_{\seq{\tau}^-}\hat{f}\hc_{\seq{\sigma}^-}\hat{f}_{\seq{\sigma'}}\hat{f}_{\seq{\tau'}}}{Z_b} = \sum_{r=\abs{\tau}}^{\min(S-\abs{\sigma}, M-S)}(-1)^{\frac{1}{2}r(r+1)}\sum_{r'=\abs{\tau'}}^{\min(S-\abs{\sigma'}, M-S)}(-1)^{\frac{1}{2}r'(r'+1)}\\
	\sum_{\seq{a}\in\Gamma_{r-\abs{\tau}}\seq{\pi_0-\tau}}\sum_{\seq{b}\in\Gamma_{r}\seq{\pi_1-\sigma}}\sum_{\seq{a'}\in\Gamma_{r'-\abs{\tau'}}\seq{\pi_0-\tau'}}\sum_{\seq{b'}\in\Gamma_{r'}\seq{\pi_1-\sigma'}}(-1)^{\abs{\tau}(S-r)+\frac{1}{2}\abs{\tau}(\abs{\tau}-1)+\sum_i\eta_{\tau_i}(\seq{a})}\\
	\cdot (-1)^{-\abs{\sigma}+\sum_i(\sigma_i+\eta_{\sigma_i}(\seq{b}))}(-1)^{\abs{\tau'}(S-r')+\frac{1}{2}\abs{\tau'}(\abs{\tau'}-1)+\sum_i\eta_{\tau'_i}(\seq{a'})}(-1)^{-\abs{\sigma'}+\sum_i(\sigma'_i+\eta_{\sigma'_i}(\seq{b'}))}\\
	\det((Z_a\hc)_{\seq{b},\seq{a\cup\tau}})\det((Z_b)_{\seq{a'\cup\tau'},\seq{b'}})\braket{\pi_1\cup a-b\cup\sigma}{\pi_1\cup a'-b'\cup\sigma'}
	\end{multline}
	The occupancy basis overlap is equivalent to
	\begin{equation}
	\braket{\pi_1\cup a-b\cup\sigma}{\pi_1\cup a'-b'\cup\sigma'}=\delta_{\seq{a},\seq{a'}}\delta_{\seq{b\cup\sigma},\seq{b'\cup\sigma'}}\delta_{r-\abs{\tau},r'-\abs{\tau}}\delta_{r+\abs{\sigma},r'+\abs{\sigma}}
	\end{equation}
	Note that, since $\abs{\sigma}+\abs{\tau}=\abs{\sigma'}+\abs{\tau'}$ unless the overlap vanishes due to mismatched total number of particles, the final two Kronecker deltas for $r,r'$ are equivalent.
	
	We now take
	\begin{align}
	\gamma &= r - \abs{\tau} = r' - \abs{\tau'}\qq{so that}r=\gamma+\abs{\tau},r'=\gamma+\abs{\tau'}\\
	\seq{\alpha}&\in\Gamma_{\gamma}\seq{\pi_0-\tau\cup\tau'}\qq{so that}\seq{a}=\seq{a'}=\seq{\alpha}\\
	\seq{\beta}&\in\Gamma_{\gamma+\abs{\tau}-\abs{\sigma'-\sigma\cap\sigma'}}\seq{\pi_1-\sigma\cup\sigma'}\qq{so that}\seq{b}=\seq{\beta\cup\sigma' - \sigma\cap\sigma'},\seq{b'}=\seq{\beta\cup\sigma - \sigma\cap\sigma'}
	\end{align}
	where $\abs{\tau}-\abs{\sigma'}=\abs{\tau'}-\abs{\sigma}$ and the construction of $\seq{b},\seq{b'}$ omits $\sigma\cap\sigma'$, since the terms with $\seq{b}$ containing any element in $\sigma$ vanish (same for $\seq{b'}$ and $\sigma'$).
	
	Substituing $r, r', \seq{a},\seq{a'}, \seq{b},\seq{b'}$ and using simple algebraic manipulation we can show that, for terms with non-vanishing Kronecker deltas, the total sign simplifies significantly. Denoting $\varsigma=\sigma-\sigma\cap\sigma',\varsigma'=\sigma'-\sigma\cap\sigma'$, the overlap can be written as
	\begin{multline}
	=(-1)^{S(\abs{\tau}+\abs{\tau'})+(\abs{\varsigma}-1)(\abs{\varsigma'}-1)+1+\sum\seq{\varsigma}+\sum\seq{\varsigma'}+\sum_i\eta_{(\sigma\cap\sigma')_i}(\seq{\varsigma\cup\varsigma'})}\sum_{\gamma=0}\sum_{\seq{\alpha}\in\Gamma_{\gamma}\seq{\pi'_0-\tau\cup\tau'}}\sum_{\seq{\beta}\in\Gamma_{\gamma+\abs{\tau}-\abs{\varsigma'}}\seq{\pi'_1-\sigma\cup\sigma'}}\\
	(-1)^{\sum_i\eta_{\varsigma_i}(\seq{\beta})+\sum_i\eta_{\varsigma'_i}(\seq{\beta})+\sum_i\eta_{\tau_i}(\seq{\alpha})+\sum_i\eta_{\tau'_i}(\seq{\alpha})}\det((Z_a\hc)^{(\text{r.} \sigma, \text{c.} \tau'-\tau\cap\tau')}_{\seq{\beta\cup\varsigma'}, \seq{\alpha\cup\tau}})\det((Z_b)^{(\text{r.} \tau-\tau\cap\tau', \text{c.} \sigma')}_{\seq{\alpha\cup\tau'},\seq{\beta\cup\varsigma}})
	\end{multline}
	where the superscript $(\text{r.} X), (\text{c.} X)$ means omitting the rows or columns specified by the set of indices $X$, and where the summation over $\gamma,\seq{\alpha},\seq{\beta}$ is such that all square submatrices of $(Z_a\hc)^{(\text{r.} \sigma)},(Z_b)^{(\text{c.} \sigma')}$ are present in the sum, as denoted by the apostrophed $\pi_1,\pi_0$, which represents the omission of indices corresponding to the removed rows and columns.
	
	We now choose to permute the rows and columns of $(Z_a\hc)^{(\text{r.} \sigma)},(Z_b)^{(\text{c.} \sigma')}$ as to bring the rows and columns which are included in every submatrix in every term of the sum to the lowest-index position. This introduces an extra sign factor to the determinant, which cancels the second sign term in the sum above. Formally
	\begin{align}
	X &= \mqty(
		(Z_a\hc)_{\seq{\varsigma'},\seq{\tau}} & (Z_a\hc)^{(\text{c.} \tau\cup\tau')}_{\text{r.} \seq{\varsigma'}}\\
		(Z_a\hc)^{(\text{r.} \sigma\cup\sigma')}_{\text{c.} \seq{\tau}} & (Z_a\hc)^{(\text{r.} \sigma\cup\sigma', \text{c.} \tau\cup\tau')}
	)\\
	Y &= \mqty(
		(Z_b)_{\seq{\tau'},\seq{\varsigma}} & (Z_b)^{(\text{c.} \sigma\cup\sigma')}_{\text{r.} \seq{\tau'}}\\
		(Z_b)^{(\text{r.} \tau\cup\tau')}_{\text{c.} \seq{\varsigma}} & (Z_b)^{(\text{r.} \tau\cup\tau', \text{c.} \sigma\cup\sigma')}
	)
	\end{align}
	
	The resulting expression is exactly in the form which is treated by Theorem \ref{theorem: asymmetrically constrained sum of complementary minor products}. Hence, if $\abs{\tau}\leq\abs{\tau'}$, we have
	\begin{align} \label{eq: general reduced overlap determinant}
	&\mel{Z_a}{\hat{f}\hc_{\seq{\tau}^-}\hat{f}\hc_{\seq{\sigma}^-}\hat{f}_{\seq{\sigma'}}\hat{f}_{\seq{\tau'}}}{Z_b}=(-1)^{S(\abs{\tau}+\abs{\tau'})+(\abs{\varsigma}-1)(\abs{\varsigma'}-1)+1+\sum\seq{\varsigma}+\sum\seq{\varsigma'}+\sum_i\eta_{(\sigma\cap\sigma')_i}(\seq{\varsigma\cup\varsigma'})}\nonumber\\
	&(-1)^{\abs{\tau'}(1+\abs{\tau'}-\abs{\tau})}\det(\mqty{
		0_{\abs{\tau'},\abs{\tau}} & (Z_b)_{\seq{\tau'},\seq{\varsigma}} & (Z_b)^{(\text{c.} \sigma\cup\sigma')}_{\text{r.} \seq{\tau'}}\\
		(Z_a\hc)_{\seq{\varsigma'},\seq{\tau}} & (Z_a\hc)^{(\text{c.} \tau\cup\tau')}_{\text{r.} \seq{\varsigma'}}(Z_b)^{(\text{r.} \tau\cup\tau')}_{\text{c.} \seq{\varsigma}} & (Z_a\hc)^{(\text{c.} \tau\cup\tau')}_{\text{r.} \seq{\varsigma'}}(Z_b)^{(\text{r.} \tau\cup\tau', \text{c.} \sigma\cup\sigma')}\\
		(Z_a\hc)^{(\text{r.} \sigma\cup\sigma')}_{\text{c.} \seq{\tau}} & (Z_a\hc)^{(\text{r.} \sigma\cup\sigma', \text{c.} \tau\cup\tau')}(Z_b)^{(\text{r.} \tau\cup\tau')}_{\text{c.} \seq{\varsigma}} & I + (Z_a\hc)^{(\text{r.} \sigma\cup\sigma', \text{c.} \tau\cup\tau')}(Z_b)^{(\text{r.} \tau\cup\tau', \text{c.} \sigma\cup\sigma')}
	})
	\end{align}
	If $\abs{\tau}\geq\abs{\tau'}$, we have $\abs{\varsigma}\leq\abs{\varsigma'}$, which allows us to apply Theorem \ref{theorem: asymmetrically constrained sum of complementary minor products} to obtain the expression
	\begin{align} \label{eq: general reduced overlap determinant alt}
	&\mel{Z_a}{\hat{f}\hc_{\seq{\tau}^-}\hat{f}\hc_{\seq{\sigma}^-}\hat{f}_{\seq{\sigma'}}\hat{f}_{\seq{\tau'}}}{Z_b}=(-1)^{S(\abs{\tau}+\abs{\tau'})+(\abs{\varsigma}-1)(\abs{\varsigma'}-1)+1+\sum\seq{\varsigma}+\sum\seq{\varsigma'}+\sum_i\eta_{(\sigma\cap\sigma')_i}(\seq{\varsigma\cup\varsigma'})}\nonumber\\
	&(-1)^{\abs{\varsigma'}(1+\abs{\varsigma'}-\abs{\varsigma})}\det(\mqty{
		0_{\abs{\varsigma'},\abs{\varsigma}} & (Z_a\hc)_{\seq{\varsigma'},\seq{\tau}} & (Z_a\hc)^{(\text{c.} \tau\cup\tau')}_{\text{r.} \seq{\varsigma'}}\\		
		(Z_b)_{\seq{\tau'},\seq{\varsigma}} & (Z_b)^{(\text{c.} \sigma\cup\sigma')}_{\text{r.} \seq{\tau'}}(Z_a\hc)^{(\text{r.} \sigma\cup\sigma')}_{\text{c.} \seq{\tau}} & (Z_b)^{(\text{c.} \sigma\cup\sigma')}_{\text{r.} \seq{\tau'}}(Z_a\hc)^{(\text{r.} \sigma\cup\sigma', \text{c.} \tau\cup\tau')}\\	
		(Z_b)^{(\text{r.} \tau\cup\tau')}_{\text{c.} \seq{\varsigma}} & (Z_b)^{(\text{r.} \tau\cup\tau', \text{c.} \sigma\cup\sigma')}(Z_a\hc)^{(\text{r.} \sigma\cup\sigma')}_{\text{c.} \seq{\tau}} & I + (Z_b)^{(\text{r.} \tau\cup\tau', \text{c.} \sigma\cup\sigma')}(Z_a\hc)^{(\text{r.} \sigma\cup\sigma', \text{c.} \tau\cup\tau')}
	})
	\end{align}
	Note that for the case $\abs{\tau}>\abs{\tau'}$, we can simply take
	\begin{equation}
	\mel{Z_a}{\hat{f}\hc_{\seq{\tau}^-}\hat{f}\hc_{\seq{\sigma}^-}\hat{f}_{\seq{\sigma'}}\hat{f}_{\seq{\tau'}}}{Z_b}=\mel{Z_b}{\hat{f}\hc_{\seq{\tau'}^-}\hat{f}\hc_{\seq{\sigma'}^-}\hat{f}_{\seq{\sigma}}\hat{f}_{\seq{\tau}}}{Z_a}^*
	\end{equation}
	so that we can always use Eq. \ref{eq: general reduced overlap determinant} as the standard expression.
	
	\subsubsection{Expressing the matrix element of a fermionic operator product sequence as an alternation of the overlap integral}
	
	Using standard matrix identities, in this section we obtain an expression in the form
	\begin{equation}
	\mel{Z_a}{\hat{f}\hc_{\seq{\tau}^-}\hat{f}\hc_{\seq{\sigma}^-}\hat{f}_{\seq{\sigma'}}\hat{f}_{\seq{\tau'}}}{Z_b} = \braket{Z_a}{Z_b} R(Z_a\hc, Z_b, \seq{\tau}, \seq{\sigma}, \seq{\tau'}, \seq{\sigma'})
	\end{equation}
	
	Firstly, the expression for the inverse of a reduced matrix given in \cite{reverse_bordering} can be trivially generalised as follows:
	\begin{equation} \label{eq: matrix reduction inverse}
	(M^{(r.\mu, c.\mu)})^{-1}=(M^{-1})^{(r.\mu, c.\mu)}-(M^{-1})^{(r.\mu)}_{c.\seq{\mu}} (M^{-1}_{r.\seq{\mu},c.\seq{\mu}})^{-1} (M^{-1})^{(c.\mu)}_{r.\seq{\mu}}
	\end{equation}
	Secondly, we consider Schur's formula:
	\begin{equation}
	\det(\mqty{A & B \\ C & D}) = \det(D)\det(A - BD^{-1}C)
	\end{equation}
	
	Now, consider the matrix in the determinant in Eq. \ref{eq: general reduced overlap determinant}. We may partition it like so
	\begin{eqnarray}
	A &=& \mqty(
			0_{\abs{\tau'},\abs{\tau}} & (Z_b)_{\seq{\tau'},\seq{\varsigma}} \\
			(Z_a\hc)_{\seq{\varsigma'},\seq{\tau}} & (Z_a\hc)^{(\text{c.} \tau\cup\tau')}_{\text{r.} \seq{\varsigma'}}(Z_b)^{(\text{r.} \tau\cup\tau')}_{\text{c.} \seq{\varsigma}}
			)\\
	B &=& \mqty(
			(Z_b)^{(\text{c.} \sigma\cup\sigma')}_{\text{r.} \seq{\tau'}}\\
			(Z_a\hc)^{(\text{c.} \tau\cup\tau')}_{\text{r.} \seq{\varsigma'}}(Z_b)^{(\text{r.} \tau\cup\tau', \text{c.} \sigma\cup\sigma')}
			)\\
	C &=& \mqty(
			(Z_a\hc)^{(\text{r.} \sigma\cup\sigma')}_{\text{c.} \seq{\tau}} & (Z_a\hc)^{(\text{r.} \sigma\cup\sigma', \text{c.} \tau\cup\tau')}(Z_b)^{(\text{r.} \tau\cup\tau')}_{\text{c.} \seq{\varsigma}}
			)\\
	D &=& I + (Z_a\hc)^{(\text{r.} \sigma\cup\sigma', \text{c.} \tau\cup\tau')}(Z_b)^{(\text{r.} \tau\cup\tau', \text{c.} \sigma\cup\sigma')}
	\end{eqnarray}
	We may apply Schur's formula and recover the equality
	\begin{equation} \label{eq: fraction mel over D}
	\frac{\mel{Z_a}{\hat{f}\hc_{\seq{\tau}^-}\hat{f}\hc_{\seq{\sigma}^-}\hat{f}_{\seq{\sigma'}}\hat{f}_{\seq{\tau'}}}{Z_b}}{\det(D)}=s\cdot \det(A-BD^{-1}C)
	\end{equation}
	where $s$ is the sign prefactor cited in Eq. \ref{eq: general reduced overlap determinant}.
	
	By applying Theorem \ref{theorem: ratio of full and reduced determinant product} to the overlap $\braket{Z_a}{Z_b}$ we directly obtain
	\begin{equation} \label{eq: fraction overlap over D}
	\frac{\braket{Z_a}{Z_b}}{\det(D)}=\frac{\det(I+(Z_a\hc)_{\text{r.} \seq{\sigma\cup\sigma'}}(Z_b)_{\text{c.} \seq{\sigma\cup\sigma'}}-(Z_a\hc)_{\text{r.} \seq{\sigma\cup\sigma'}}(Z_b)^{(\text{c.} \sigma\cup\sigma')}X^{-1}(Z_a\hc)^{(\text{r.} \sigma\cup\sigma')}(Z_b)_{\text{c.} \seq{\sigma\cup\sigma'}})}{\det(I-(Z_b)_{\text{r.} \seq{\tau\cup\tau'}}^{(\text{c.} \sigma\cup\sigma')}X^{-1}(Z_a\hc)_{\text{c.} \seq{\tau\cup\tau'}}^{(\text{r.} \sigma\cup\sigma')})}
	\end{equation}
	where
	\begin{equation}
	X=(I+Z_a\hc Z_b)^{(\text{r.} \sigma\cup\sigma', \text{c.} \sigma\cup\sigma')}
	\end{equation}
	Assuming that the inverse of $I+Z_a\hc Z_b$ is known, we can calculate $X^{-1}, D^{-1}$ easily using Eq. \ref{eq: matrix reduction inverse} and the Woodbury matrix identity:
	\begin{align}
	X^{-1}&= ((I+Z_a\hc Z_b)^{-1})^{(\text{r.} \sigma\cup\sigma',\text{c.} \sigma\cup\sigma')}\nonumber\\
	 & - ((I+Z_a\hc Z_b)^{-1})^{(\text{r.} \sigma\cup\sigma')}_{\text{c.} \seq{\sigma\cup\sigma'}}((I+Z_a\hc Z_b)^{-1}_{\text{r.} \seq{\sigma\cup\sigma'}, \text{c.} \seq{\sigma\cup\sigma'}})^{-1}((I+Z_a\hc Z_b)^{-1})^{(\text{c.} \sigma\cup\sigma')}_{\text{r.} \seq{\sigma\cup\sigma'}}\\
	 D^{-1} &= X^{-1} + X^{-1} (Z_a\hc)^{(\text{r.} \sigma\cup\sigma')}_{\text{c.}\seq{\tau\cup\tau'}} \left(I - (Z_b)^{(\text{c.} \sigma\cup\sigma')}_{\text{r.}\seq{\tau\cup\tau'}} X^{-1} (Z_a\hc)^{(\text{r.} \sigma\cup\sigma')}_{\text{c.}\seq{\tau\cup\tau'}}\right)^{-1} (Z_b)^{(\text{c.} \sigma\cup\sigma')}_{\text{r.}\seq{\tau\cup\tau'}} X^{-1}
	\end{align}
	Dividing Eq. \ref{eq: fraction mel over D} by Eq. \ref{eq: fraction overlap over D} yields
	\begin{multline} \label{eq: fermionic matrix element as a rank update}
	\frac{\mel{Z_a}{\hat{f}\hc_{\seq{\tau}^-}\hat{f}\hc_{\seq{\sigma}^-}\hat{f}_{\seq{\sigma'}}\hat{f}_{\seq{\tau'}}}{Z_b}}{\braket{Z_a}{Z_b}}=(-1)^{S(\abs{\tau}+\abs{\tau'})+(\abs{\varsigma}-1)(\abs{\varsigma'}-1)+1+\sum\seq{\varsigma}+\sum\seq{\varsigma'}+\sum_i\eta_{(\sigma\cap\sigma')_i}(\seq{\varsigma\cup\varsigma'})\abs{\tau'}(1+\abs{\tau'}-\abs{\tau})}\\
	\cdot\frac{\det(A-BD^{-1}C)\det(I-(Z_b)_{\text{r.} \seq{\tau\cup\tau'}}^{(\text{c.} \sigma\cup\sigma')}X^{-1}(Z_a\hc)_{\text{c.} \seq{\tau\cup\tau'}}^{(\text{r.} \sigma\cup\sigma')})}{\det(I+(Z_a\hc)_{\text{r.} \seq{\sigma\cup\sigma'}}(Z_b)_{\text{c.} \seq{\sigma\cup\sigma'}}-(Z_a\hc)_{\text{r.} \seq{\sigma\cup\sigma'}}(Z_b)^{(\text{c.} \sigma\cup\sigma')}X^{-1}(Z_a\hc)^{(\text{r.} \sigma\cup\sigma')}(Z_b)_{\text{c.} \seq{\sigma\cup\sigma'}})}
	\end{multline}
	which is the formula we wanted.
	
	An analogous expression can be trivially derived for the case $|\tau|\geq|\tau'|$ by considering the alternative overlap matrix blocks as expressed in Eq. \ref{eq: general reduced overlap determinant alt} together with the alternative prefactor sign, and by taking $X=(I+Z_b Z_a\hc)^{(\text{r.} \tau\cup\tau', \text{c.} \tau\cup\tau')}$.
	
	\subsubsection{Computational complexity of calculating arbitrary matrix elements}
	Consider an arbitrary $n$th-order operator $\hat{A}$ in the form
	\begin{equation}
	\hat{A}=\sum_{\rho\in [1\dots M]^n}\sum_{\rho'\in [1\dots M]^n} A_{\rho_1 \dots \rho_n, \rho'_1\dots \rho'_n} \hat{f}\hc_{\rho_1}\dots\hat{f}\hc_{\rho_n}\hat{f}_{\rho'_1}\dots\hat{f}_{\rho'_n}
	\end{equation}
	where $A$ is a tensor antisymmetric with respect to the exchange of any pair within the first or the second half of its indices (corresponding to the sign change upon permuting the non-monotonic sequences $\rho,\rho'$ respectively). In general, what is the computational complexity of calculating $\mel{Z_a}{\hat{A}}{Z_b}$ for a pair of fermionic coherent states $\ket{Z_a},\ket{Z_b}$?
	
	If $(M-S)\ll S$ or $S \ll M-S$, the computational complexity might be decreased by carefully choosing between the two forms in Eqns. \ref{eq: general reduced overlap determinant}, \ref{eq: general reduced overlap determinant alt}, respectively, since the bottleneck for a single element of the sum of fermionic operator product sequences is calculating the determinant, which has complexity $O(x^3)$ for an $(x,x)$ matrix. In general, we do not have such kind of luck, and we will henceforth be treating the case when $(M-S)\sim S\sim M$, where the number of modes represents the scale of the system.
	
	It being closely related to an arbitrarily weighted sum of elements in the $n$th-rank compound matrix of $I+Z_a\hc Z_b$ (or $I+Z_bZ_a\hc$), there is no shortcut allowing us to bypass term-by-term enumeration of the sum of fermionic operator product sequences other than the initial grouping of terms related by permuting $\rho,\rho'$, of which there are $n!^2$. Therefore, the term-by-term enumeration having the complexity of $\mathcal{O}(M^{2n})$ and the evaluation of each term having the complexity $\mathcal{O}(M^3)$, the naive calculation has the complexity $\mathcal{O}(M^{2n+3})$. However, we may improve this slightly with the following procedure: We may initially evaluate $\braket{Z_a}{Z_b}$ and the inverses of $I+Z_a\hc Z_b$ and $I+Z_b Z_a\hc$ (which, costing $\mathcal{O}(M^3)$, will not be the bottleneck), and then we may use Eq. \ref{eq: fermionic matrix element as a rank update} (and its analogous alternative) for each term of the sum, only having the complexity $\mathcal{O}(M^2)$ if the order of matrix products is considered carefully and if $n\ll M$, as is expected for any practical instance. Therefore the time complexity of evaluating $\mel{Z_a}{\hat{A}}{Z_b}$ is $\mathcal{O}(M^{2(n+1)})$, and this is equal to the time complexity of finding the matrix elements for all possible fermionic operator product sequences of order $n$.
	
	\section{Full-variational equations of motion}
	In this section we express the time-dependent Schrodinger equation discretised on a finite unnormalised coherent state basis of size $Z$, where the full wavestate $\ket{\Psi}$ is parametrised by the time-dependent quantities $Z^m_{ij}$, which describes the $m$-th basis state $\unnormket{Z^m}$, and $A_m$, which is the decomposition coefficient of $\unnormket{Z^m}$. Formally
	\begin{equation}
	\ket{\Psi}=\sum_{m=1}^N A_m\unnormket{Z^m}
	\end{equation}
	Note that we use the unnormalised states because, unlike their normalised counterparts, they have no explicit dependence on $(Z^m_{ij})^*$, allowing for the use of Wirtinger derivatives. This does not affect the interpretation of the result, since the square norm of the superposition $\ket{\Psi}$ remains $1$ when propagated by the Schrodinger equations of motion.
	
	To find the equations of motion we shall use the Lagrangian formulation of the Schrodinger equation
	\begin{equation} \label{eq: schrodinger lagrangian}
	L=\frac{i}{2}\left(\braket{\Psi}{\dot{\Psi}}-\braket{\dot{\Psi}}{\Psi}\right)-\mel{\Psi}{\hat{H}}{\Psi}
	\end{equation}
	
	\subsection{Derivatives of coherent states}
	Consider the partial derivative of $\unnormket{Z}$ with respect to the parameter $Z_{ij}$. Using Eq. \ref{eq:exponential ket} the result can be expressed as
	\begin{equation}
	\pdv{Z_{ij}}\unnormket{Z}=\hat{T}_{ij}\unnormket{Z}
	\end{equation}
	Since the fermionic operator have no explicit dependence on $Z$, it commutes with the partial derivative. Hence we can take the partial derivative of an unnormalised coherent state transformed by a sequence of fermionic operators:
	\begin{equation}
	\pdv{Z_{ij}}\hat{f}\hc_{\seq{\rho}}\hat{f}_{\seq{\sigma}}\unnormket{Z}=\hat{f}\hc_{\seq{\rho}}\hat{f}_{\seq{\sigma}}\hat{T}_{ij}\unnormket{Z}
	\end{equation}
	Consider a mixed partial derivative:
	\begin{equation}
	\pdv{Z_{ij}}\pdv{Z_{kl}}\unnormket{Z}=\hat{T}_{kl}\hat{T}_{ij}\unnormket{Z}=\hat{T}_{ij}\hat{T}_{kl}\unnormket{Z}
	\end{equation}
	 The exchange of transition operators can be seen from the fact that $i,k\in\pi_0$ and $j,l\in\pi_1$ for the expression to be non-vanishing, which yields $\comm{\hat{T}_{ij}}{\hat{T}_{kl}}=\hat{T}_{il}\delta_{kj}-\hat{T}_{kj}\delta_{il}=0$.
	 
	 We shall also express the total time derivative of the unnormalised coherent state:
	 \begin{equation}
	 \unnormket{\dot{Z}}=\dv{t}\unnormket{Z}=\sum_{i\in\pi_0}\sum_{j\in\pi_1}\pdv{Z_{ij}}{t}\pdv{Z_{ij}}\unnormket{Z}=\sum_{i\in\pi_0}\sum_{j\in\pi_1}\dot{Z}_{ij}\hat{T}_{ij}\unnormket{Z}
	 \end{equation}
	 Notice that the resulting Euler-Lagrange equations couple the evolution of $Z^m_{ij}$ and $A_m$, which means that in the fully variational method, the basis state evolution is guided by their decomposition coefficients in the trial wavestate. In Sec. \ref{sec: decoupled basis} we shall describe an approach which decouples these quantities, rendering the time-evolution of $\unnormket{Z^m}$ only dependent on the initial values of $Z^m_{ij}$.
	
	\subsection{Matrix element of the quadratic $S$-preserving Hamiltonian}
	For an $S$-preserving Hamiltonian, the one-body interaction can be expressed as $V^{(1)}_{\alpha,\beta}\hat{f}\hc_\alpha\hat{f}_\beta$, and two-body interaction as $\frac{1}{2}V^{(2)}_{\alpha,\beta,\gamma,\delta}\hat{f}\hc_\alpha\hat{f}\hc_\beta\hat{f}_\gamma\hat{f}_\delta$, where
	\begin{itemize}
	\item $V^{(1)}$ is Hermitian
	\item $V^{(2)}$ is anti-symmetric w.r.t. exchange of the first or second pair of indices, and Hermitian w.r.t. exchange of the two pairs of indices.
	\end{itemize}
	Then
	\begin{equation}
	\hat{H}=V^{(1)}_{\alpha,\beta}\hat{f}\hc_\alpha\hat{f}_\beta+\frac{1}{2}V^{(2)}_{\alpha,\beta,\gamma,\delta}\hat{f}\hc_\alpha\hat{f}\hc_\beta\hat{f}_\gamma\hat{f}_\delta
	\end{equation}
	
	\subsection{Schrodinger Euler-Lagrange equations}
	Using Wirtinger derivatives, the Euler-Lagrange equations are
	\begin{align}
	\pdv{L}{A_m^*}-\dv{t}\pdv{\dot{A}_m^*}&=0\\
	\pdv{L}{(Z^m_{ij})^*}-\dv{t}\pdv{(\dot{Z}^m_{ij})^*}&=0
	\end{align}
	with the equations obtained by differentiating w.r.t. $A_m, Z^m_{ij}$ being complex conjugates of the equations stated above, providing no additional information.
	
	We can also expand the Lagrangian in Eq. \ref{eq: schrodinger lagrangian} as
	\begin{equation} \label{eq: expanded schrodinger lagrangian}
	L=\sum_{m,n}\left[ \frac{i}{2} \left( \unnormbraket{Z^m}{Z^n}(A^*_m\dot{A}_n-\dot{A}^*_mA_n) + A_m^* A_n\left( \unnormbraket{Z^m}{\dot{Z}^n} - \unnormbraket{\dot{Z}^m}{Z^n} \right) \right) - A_m^* A_n \unnormmel{Z^m}{\hat{H}}{Z^n} \right]
	\end{equation}
	And its partial derivatives then become
	\begin{align}
	\pdv{L}{A_m^*}&=\sum_n\left[ \frac{i}{2}\left( \dot{A}_n\unnormbraket{Z^m}{Z^n} + A_n\left( \unnormbraket{Z^m}{\dot{Z}^n} - \unnormbraket{\dot{Z}^m}{Z^n} \right) \right) - A_n \unnormmel{Z^m}{\hat{H}}{Z^n} \right]\\
	\pdv{L}{\dot{A}_m^*}&=-\frac{i}{2}\sum_n A_n\unnormbraket{Z^m}{Z^n}\\
	\dv{t}\pdv{L}{\dot{A}_m^*}&=-\frac{i}{2}\sum_{n} \left[ \dot{A}_n\unnormbraket{Z^m}{Z^n} + A_n\left( \unnormbraket{Z^m}{\dot{Z}^n} + \unnormbraket{\dot{Z}^m}{Z^n} \right) \right]\\
	\pdv{L}{(Z^m_{ij})^*}&=\sum_n\left[ \frac{i}{2} \left( \unnormmel{Z^m}{\hat{f}\hc_j \hat{f}_i}{Z^n} (A^*_m\dot{A}_n-\dot{A}^*_mA_n) + A_m^* A_n \left( \unnormmel{Z^m}{\hat{f}\hc_j \hat{f}_i}{\dot{Z}^n} - \unnormmel{\dot{Z}^m}{\hat{f}\hc_j \hat{f}_i}{Z^n} \right) \right)\nonumber\right.\\
	&\left. - A_m^* A_n \unnormmel{Z^m}{\hat{f}\hc_j \hat{f}_i \hat{H}}{Z^n} \right]\\
	\pdv{L}{(\dot{Z}^m_{ij})^*} &= -\frac{i}{2}\sum_n A_m^* A_n \unnormmel{Z^m}{\hat{f}\hc_j \hat{f}_i}{Z^n}\\
	\dv{t}\pdv{L}{(\dot{Z}^m_{ij})^*} &= -\frac{i}{2}\sum_n\left[ \unnormmel{Z^m}{\hat{f}\hc_j \hat{f}_i}{Z^n} (A^*_m\dot{A}_n+\dot{A}^*_mA_n) + A_m^* A_n \left( \unnormmel{Z^m}{\hat{f}\hc_j \hat{f}_i}{\dot{Z}^n} + \unnormmel{\dot{Z}^m}{\hat{f}\hc_j \hat{f}_i}{Z^n} \right) \right]
	\end{align}
	The Euler-Lagrange equations are then
	\begin{align}
	i\sum_n\left[ \dot{A}_n \unnormbraket{Z^m}{Z^n} + A_n \sum_{i\in\pi_0}\sum_{j\in\pi_1} \dot{Z}^n_{ij} \unnormmel{Z^m}{\hat{f}\hc_i\hat{f}_j}{Z^n} \right] &= \sum_n A_n \unnormmel{Z^m}{\hat{H}}{Z^n}\\
	i\sum_n\left[ A_m^* \dot{A}_n \unnormmel{Z^m}{\hat{f}\hc_j\hat{f}_i}{Z^n} + A_m^* A_n \sum_{i'\in\pi_0}\sum_{j'\in\pi_1} \dot{Z}^n_{i'j'} \unnormmel{Z^m}{\hat{f}\hc_j \hat{f}_i \hat{f}\hc_{i'} \hat{f}_{j'}}{Z^n} \right] &= \sum_n A_m^* A_n \unnormmel{Z^m}{\hat{f}\hc_j \hat{f}_i \hat{H}}{Z^n}
	\end{align}
	for $m=1\dots N$ in the first system of equations and $m=1\dots N, i\in\pi_0, j\in\pi_1$ in the second system of equations.
	
	\subsubsection{Matrix formulation of the Euler-Lagrange equations}
	Let us construct the generalised coordinate vector
	\begin{equation}
	\vec{Q} = \mqty(\vec{Q}^A \\ \vec{Q}^Z),\qquad Q^A_m = A_m, \qquad \vec{Q}^Z=\mqty(\vec{Q}^{Z,1} \\ \vdots \\ \vec{Q}^{Z,M-S}), \qquad \vec{Q}^{Z,i} = \mqty(\vec{Q}^{Z,i,1} \\ \vdots \\ \vec{Q}^{Z,i,S}), \qquad Q^{Z,ij}_m = Z^m_{ij}
	\end{equation}
	The Euler-Lagrange equations can then be expressed in matrix form
	\begin{equation}
	i\Omega\dv{t}\vec{Q}=\vec{R}
	\end{equation}
	where $\Omega$ is an $(NS(M-S),NS(M-S))$ matrix and $\vec{R}$ is an $(NS(M-S))$-dimensional vector, both being functions of $\vec{Q}$. The transformation matrix $\Omega$ can be written in block form
	\begin{equation}
	\Omega = \mqty(
		\Omega^{AA} & \Omega^{A,1} & \dots & \Omega^{A,M-S}\\
		\Omega^{1,A} & \Omega^{1,1} & \dots & \Omega^{1,M-S}\\
		\vdots & \vdots & \ddots & \\
		\Omega^{M-S,A} & \Omega^{M-S,1} & & \Omega^{M-S,M-S}
	)
	\end{equation}
	where for the first row and first column
	\begin{equation}
	\Omega^{A,i}=\mqty(\Omega^{A,i,1} & \dots & \Omega^{A,ij} & \dots & \Omega^{A,i,S})\qq{and}\Omega^{i,A}=(\Omega^{A,i})\hc
	\end{equation}
	and for the other blocks
	\begin{equation}
	\Omega^{i,i'}=\mqty(
		\Omega^{i,1,i',1} & \Omega^{i,1,i',2} & \dots & \Omega^{i,1,i',S} \\
		\Omega^{i,2,i',1} & \Omega^{i,2,i',2} & \dots & \Omega^{i,2,i',S} \\
		\vdots & \vdots & \ddots & \\
		\Omega^{i,S,i',1} & \Omega^{i,S,i',2} & & \Omega^{i,S,i',S}
	),\qq{the general sub-block being}\Omega^{ij,i'j'}
	\end{equation}
	Then, we can express $\Omega$ to encode the Euler-Lagrange equations of motion like so:
	\begin{align}
	\Omega^{AA}_{mn} &= \unnormbraket{Z^m}{Z^n}\\
	\Omega^{A,ij}_{mn} &= A_n\unnormmel{Z^m}{\hat{f}_i\hc\hat{f}_j}{Z^n}\\
	\Omega^{ij,i'j'}_{mn} &= A_m^* A_n \unnormmel{Z^m}{\hat{f}_j\hc\hat{f}_i\hat{f}_{i'}\hc\hat{f}_{j'}}{Z^n} = A_m^* A_n \left(\delta_{ii'} \unnormmel{Z^m}{\hat{f}_j\hc\hat{f}_{j'}}{Z^n} - \unnormmel{Z^m}{\hat{f}_{i'}\hc\hat{f}_j\hc\hat{f}_{j'}\hat{f}_{i}}{Z^n} \right)
	\end{align}
	where
	\begin{align}
	\Omega^{ij,A}&=(\Omega^{A,ij})\hc\\
	\Omega^{ij,i'j'}&=(\Omega^{i'j',ij})\hc\\
	\Omega\hc&=\Omega
	\end{align}
	The vector $\vec{R}$ can be expressed like so
	\begin{equation}
	\vec{R}=\mqty(\vec{R}^A \\ \vec{R}^Z)\qq{where} \vec{R}^Z = \mqty(\vec{R}^{Z,1} \\ \vdots \\ \vec{R}^{Z,M-S})\qq{and} \vec{R}^{Z,i} = \mqty(\vec{R}^{Z,i,1} \\ \vdots \\ \vec{R}^{Z,i,S})
	\end{equation}
	where
	\begin{align}
	R^A_m &= \sum_n A_n \unnormmel{Z^m}{\hat{H}}{Z^n}\\
	R^{Z,ij}_m &= A_m^* \sum_n A_n \unnormmel{Z^m}{\hat{f}\hc_j \hat{f}_i\hat{H}}{Z^n}
	\end{align}
	
	\subsection{Decoupled basis propagation} \label{sec: decoupled basis}
	
	\appendix
	
	\section{Notation in this article}
	\begin{itemize}
		\item $\seq{S}$: A sequence constructed from the elements of set $S\subset \mathbb{N}^+$ such that\\ $\seq{S}_i< \seq{S}_j\iff i<j$. Such sequence shall be referred to as ascending. If $S$ is a number, the sequence is explicitly $\seq{1, 2\dots S}$. The length of $\seq{S}$ shall be denoted as $\abs{\seq{S}}$.
		\item $\seq{S}^-$: An object analogous to $\seq{S}$, except the sequence is strictly descending.
		\item $\Gamma_n\seq{S}$: Set of all subsequences of length $n$ of sequence $\seq{S}$.
		\item $\seq{S_1}\oplus\seq{S_2}$: An ascending sequence constructed from ascending sequences $\seq{S_1}$ and $\seq{S_2}$ with no common elements, such that it contains every element from $\seq{S_1}$ and $\seq{S_2}$.
		\item Two sequences are said to be disjoint if the sets upon which they are built are disjoint; that is, they share no common index.
		\item $M_{\seq{S_1},\seq{S_2}}$ where $M$ is a matrix: This denotes a matrix $M'$ such that $M'_{ij}=\nolinebreak M_{\seq{S_1}_i,\seq{S_2}_j}$, which is a submatrix of $M$.
		\item $\ket{\seq{S}}$: An element of the full occupancy basis where the $i$-th mode is occupied iff $i\in\seq{S}$.
		\item $\hat{f}\hc_{\seq{S}}$: A product of $N=\abs{\seq{S}}$ fermionic creation operators $\hat{f}\hc_{\seq{S}_1}\dots \hat{f}\hc_{\seq{S}_N}$. An analogous construction can be defined for a sequence of annihilation operators.
		\item $P^k$: The set of permutations of $k$ elements. For an element $P\in P^k$ and an ascending sequence $\seq{S}$, we denote $P\seq{S}_i$ the $i$-the element of the (not necessarily ascending) sequence constructed by permuting $\seq{S}$ by $P$.
		\item $\asc{\hat{f}\hc_{\sigma_1}\dots\hat{f}\hc_{\sigma_n}}$: The \textit{monotonic ordering} of a product of fermionic creation (or annihilation) operators. The result is the product of the same set of operators $\hat{f}\hc_{\rho_1}\dots\hat{f}\hc_{\rho_n}\equiv \hat{f}\hc_{\seq{\rho}}, \{\rho\}=\{\sigma\}$ such that their indices are in an ascending order. Equivalently, for any permutation $P\in P^n$, we have $\asc{\hat{f}\hc_{P\seq{\rho}}}=\hat{f}\hc_{\seq{\rho}}$. \textit{Note:} If applied to a sequence of both creation and annihilation operators, the monotonic ordering first applies a normal ordering, and then is applied to the creation and annihilation operators separately.
		\item $I_n$ denotes the identity matrix of order $n$.
		\item $\hat{I}$ denotes the identity operator.
		\item $\eta_x(S)$ is the number of elements in $S$ smaller than $x$.
		\item $\eta_x^y$ is equal to one if $x>y$ and to zero otherwise. It can be seen that $\eta_x(S)=\sum_{s\in S}\eta_x^s$.
	\end{itemize}
	
	\section{Properties of fermionic creation and annihilation operators}
	
	Let $\ket{n_1,n_2\dots n_M}$ denote an element of the full-occupancy basis for which $n_i$ particles occupy the $i$-th mode (for fermions $n_i\in\{0,1\}$). Then the action of the fermionic creation and annihilation operator on the $i$-th mode is \cite[Eq. 3.47]{fermionic_definition}
	\begin{eqnarray}
	\hat{f}\hc_i\ket{n_1,n_2\dots n_M}&=&(-1)^{\sum_{j<i}n_j}\sqrt{1-n_i}\ket{n_1\dots n_{i-1}, n_i + 1, n_{i+1}\dots n_M}\\
	\hat{f}_i\ket{n_1,n_2\dots n_M}&=&(-1)^{\sum_{j<i}n_j}\sqrt{n_i}\ket{n_1\dots n_{i-1}, n_i - 1, n_{i+1}\dots n_M}
	\end{eqnarray}
	The operators obey well-known anti-commutator identities:
	\begin{equation}\label{eq:anticommutators}
	\acomm{\hat{f}_i}{\hat{f}_j}=0\qquad\acomm{\hat{f}\hc_i}{\hat{f}\hc_j}=0\qquad\acomm{\hat{f}_i}{\hat{f}\hc_j}=\delta_{ij}
	\end{equation}
	Using the identity $\comm{\hat{A}}{\hat{B}}=2\hat{A}\hat{B}-\acomm{\hat{A}}{\hat{B}}=\acomm{\hat{A}}{\hat{B}}-2\hat{B}\hat{A}$, we can express the corresponding commutator relations:
	\begin{equation}\label{eq:commutators}
	\comm{\hat{f}_i}{\hat{f}_j}=2\hat{f}_i\hat{f}_j\qquad\comm{\hat{f}\hc_i}{\hat{f}\hc_j}=2\hat{f}\hc_i\hat{f}\hc_j\qquad\comm{\hat{f}_i}{\hat{f}\hc_j}=\delta_{ij}-2\hat{f}\hc_j\hat{f}_i\qquad \comm{\hat{f}\hc_i}{\hat{f}_j}=2\hat{f}\hc_i\hat{f}_j-\delta_{ij}
	\end{equation}
	We shall also state the Wick contraction $\hat{A}\hat{B}-\mkern-7mu\normord{\hat{A}\hat{B}}$ for every pairing of fermionic operators:
	\begin{equation}\label{eq:contractions}
	    \wick[offset=1.5em]{\c1{\hat{f}_i} \c1{\hat{f}_j}}=0\qquad\wick[offset=1.5em]{\c1{\hat{f}\hc_i} \c1{\hat{f}\hc_j}}=0\qquad\wick[offset=1.5em]{\c1{\hat{f}\hc_i} \c1{\hat{f}_j}}=0\qquad\wick[offset=1.5em]{\c1{\hat{f}_i} \c1{\hat{f}\hc_j}}=\delta_{ij}\qquad
	\end{equation}
	A corollary of Eq. \ref{eq:anticommutators} is that exchanging two neighbouring creation or two annihilation operators in a product sequence flips the sign of the product. Since any permutation $P$ of a sequence can be constructed from composing pairwise swaps $(i\leftrightarrow i+1)$, we have
	\begin{equation}\label{eq:permutation of sequence}
	\hat{f}\hc_{\seq{\sigma}}=\sgn(P)\hat{f}\hc_{P\seq{\sigma}}\qquad\hat{f}_{\seq{\sigma}}=\sgn(P)\hat{f}_{P\seq{\sigma}}
	\end{equation}
	This is useful, since the action of a creation operator sequence with ascending indices on the vacuum state has a trivial sign:
	\begin{equation}\label{eq:ascending creation on vacuum}
	\hat{f}\hc_{\seq{\sigma}}\ket{\rm vac.}=\ket{\sigma}\qq{therefore}\hat{f}\hc_{P\seq{\sigma}}\ket{\rm vac.}=\sgn(P)\ket{\sigma}
	\end{equation}
	
	\section{Invalidity of the boson-analogous construction}
	
	The $SU(M)$ bosonic coherent state with $S$ particles can be expressed as
	\begin{equation}
	\ket{z}=N(z)\left(\sum_{m=1}^Mz_m\hat{b}\hc_m\right)^S\ket{\text{vac.}}
	\end{equation}
	where $N(z)$ is some real-valued normalisation function. Let us create a "naive" fermionic coherent state with $S$ particles by replacing the bosonic creation operators by their fermionic counterparts:
	\begin{equation}
	\ket{z}=N(z)\left(\sum_{m=1}^Mz_m\hat{f}\hc_m\right)^S\ket{\text{vac.}}
	\end{equation}
	Expanding the multinomial product, we see that all terms with repeated creation operators $\hat{f}\hc_i\hat{f}\hc_i$ vanish, yielding
	\begin{equation*}
	\ket{z}=N(z)\sum_{\seq{a}\in\Gamma^S\seq{M}} \left(\prod_{i=1}^S z_{\seq{a}_i}\right) \sum_{P\in P^S} \hat{f}\hc_{P\seq{a}}=N(z)\sum_{\seq{a}\in\Gamma^S\seq{M}} \left(\prod_{i=1}^S z_{\seq{a}_i}\right) \hat{f}\hc_{\seq{a}}\sum_{P\in P^S}\sgn(P)
	\end{equation*}
	However, since $\sgn(P)$ is an irreducible representation of the permutation group on $P^S$, it is orthogonal to the trivial representation (for $S>1$), and hence its sum over all group elements vanishes. Hence
	\begin{enumerate}
		\item For $S=0,1$, the naive construction is equivalent to the construction in this article up to a meaningless transformation of the $z$ parameter.
		\item For $S>1$, the naive construction vanishes.
	\end{enumerate}
	
	\section{Determinant of the upper-left zero block matrix}
	
	Consider an $(m+n,m+n)$ matrix in the form
	\begin{equation}
	M = \mqty(0_{(m,m)} & A_{(m, n)} \\ B_{(n, m)} & C_{(n, n)})
	\end{equation}
	whose determinant we wish to calculate. If $m>n$, the determinant is trivially zero. Therefore, we can assume $m\leq n$ for the non-trivial case.
	
	Consider the matrices
	\begin{equation}
	X = \mqty(I_{(m,m)} & A_{(m, n)})\qq{and}Y = \mqty(I_{(m,m)} \\ B_{(n, m)})
	\end{equation}
	Their product is
	\begin{equation}
	YX = \mqty(I_{(m,m)} & A_{(m, n)} \\ B_{(n, m)} & (BA)_{(n, n)})\qq{therefore}M-YX=\mqty(I_{(m,m)} & 0_{(m, n)} \\ 0_{(m, n)} & (C - BA)_{(n, n)})
	\end{equation}
	Then, using the matrix determinant lemma we obtain
	\begin{align}\label{eq:upper-left zero-block intermediate}
	\det(M)&=\det(M-YX+YX)\nonumber\\
	&= \det(I_{(m, m)}+X(M-YX)^{-1}Y)\det(M-YX)
	\end{align}
	Since $M-YX$ is block-diagonal, its determinant and inverse can be expressed like so:
	\begin{equation}
	\det(M-YX)=(-1)^m\det(C-BA)\qq{and} (M-YX)^{-1}=\mqty(I_{(m,m)} & 0_{(m, n)} \\ 0_{(m, n)} & (C - BA)^{-1}_{(n, n)})
	\end{equation}
	Therefore
	\begin{equation}
	X(M-YX)^{-1}Y=A(C-BA)^{-1}B-I_{(m,m)}
	\end{equation}
	We substitute these results into Eq. \ref{eq:upper-left zero-block intermediate} and use the matrix determinant lemma again to expand $\det(C-BA)$:
	\begin{equation}
	\det(M)=(-1)^m \det(A(C-BA)^{-1}B)\det(I_{(m,m)}-AC^{-1}B)\det(C)
	\end{equation}
	We shall also use the Woodbury matrix identity to expand the inverse of $C-BA$ and express the product of the first two determinants as the determinant of the product of their respective matrices, finally obtaining
	\begin{align}
	\det(M)&=(-1)^m \det((AC^{-1}B+AC^{-1}B(I_{(m,m)}-AC^{-1}B)^{-1}AC^{-1}B)(I_{(m,m)}-AC^{-1}B))\det(C)\nonumber\\
	&= (-1)^m \det(AC^{-1}B)\det(C)
	\end{align}
	
	\section{Constrained sum of complementary minor products}
	Consider two matrices $X, Y$ of shapes $(m,n)$ and $(n,m)$, respectively. For a given pair of index sequences $\seq{a},\seq{b}$ of equal length, we shall refer to the submatrix determinants $\det(X_{\seq{a},\seq{b}}),\det(X_{\seq{b},\seq{a}})$ as the complementary minors of $X,Y$ over $\seq{a},\seq{b}$. In this section we shall obtain the sum of products of all complementary minors of all ranks which are constrained by inclusion of the first $u$ rows and first $v$ columns.
	
	\begin{lemma} \label{constrained sum of principal minors}
	For a square matrix $M$, the sum of all principal minors of all ranks which contain the first $n$ rows/columns is equal to $\det(I^{(n)}+M)$, where $I^{(n)}$ is the identity matrix with the first $n$ elements along the diagonal set to zero.
	\end{lemma}
	\textit{Proof.} We will proceed by induction. Firstly, for $n=0$, the sum is the sum of all principal minors for each rank $r$, denoted $E_r$. These sums form the coefficients of the characteristic polynomial of $M$ like so: \cite[Th. 1.2.16]{charpol}
	\begin{equation}
	\det(tI-M)=\sum_{r=0}^x(-1)^{r} t^{x-r} E_r
	\end{equation}
	where $x$ is the number of rows of $M$. Evaluating this sum at $t=-1$ yields
	\begin{align}
	\det(-I-M)&=\sum_{r=0}^x(-1)^{r} (-1)^{x-r} E_r\nonumber\\
	\det(I+M)&=\sum_{r=0}^x E_r
	\end{align}
	which shows the lemma holds for $n=0$. Now: assume the lemma holds for $n$. For $n+1$, we have the sum of all principal minors of $M$ which contain the first $n+1$ rows/columns. We identify this as equivalent to the sum of all principal minors of $M$ which contain the first $n$ rows/columns, from which we subtract the sum of all principal minors of $M$ which contain the first $n$ rows/columns and do \textit{not} contain the $(n+1)$-th row/column. I.e. we can write
	\begin{equation}
	\sum_{r=n+1}^{x}\sum_{\seq{a}\in\Gamma_r\seq{x^{(n+1)}}}\det(M_{\seq{n+1}\oplus\seq{a},\seq{n+1}\oplus\seq{a}})=\sum_{r=n}^{x}\sum_{\seq{a}\in\Gamma_r\seq{x^{(n)}}}\left[\det(M_{\seq{n}\oplus\seq{a},\seq{n}\oplus\seq{a}})-\det(M'_{\seq{n}\oplus\seq{a},\seq{n}\oplus\seq{a}})\right]
	\end{equation}
	where $M'$ is obtained by setting all elements in the $(n+1)$-th row/column to zero. To the right side of the equation we apply the lemma, since it is assumed it holds for $n$:
	\begin{equation} \label{eq: big minor sum from small minor sums}
	\sum_{r=n+1}^{x}\sum_{\seq{a}\in\Gamma_r\seq{x^{(n+1)}}}\det(M_{\seq{n+1}\oplus\seq{a},\seq{n+1}\oplus\seq{a}})=\det(I^{(n)}+M)-\det(I^{(n)}+M')
	\end{equation}
	Now, taking the Laplace expansion of $\det(I^{(n)}+M)$ along the $(n+1)$-th row, the element in the $(n+1)$-th column is $1+M_{n+1,n+1}$ and its cofactor is $\det(I^{(n)}+M')$. Subtracting $1$ from this element and adding the cofactor to the full Laplace expansion preserves the determinant, revealing
	\begin{equation} \label{eq: laplace expansion of small minor sum}
	\det(I^{(n)}+M)=\det(I^{(n+1)}+M)+\det(I^{(n)}+M')
	\end{equation}
	Substituing Eq. \ref{eq: laplace expansion of small minor sum} into Eq. \ref{eq: big minor sum from small minor sums} yields
	\begin{equation}
	\sum_{r=n+1}^{x}\sum_{\seq{a}\in\Gamma_r\seq{x^{(n+1)}}}\det(M_{\seq{n+1}\oplus\seq{a},\seq{n+1}\oplus\seq{a}})=\det(I^{(n+1)}+M)
	\end{equation}
	which finishes the proof.
	
	\begin{theorem}
	The sum of the products of all complementary minors of $X, Y$  of all ranks, constrained by the inclusion of the first $u$ rows and the first $k$ columns of $X$, is equal to
	\begin{equation}
	(-1)^v\det(I^{(u+v)}+\mqty(0 & Y_{\text{r.} v} \\ X_{\text{c.} v} & X^{(\text{c.} v)} Y^{(\text{r.} v)}))=(-1)^u\det(I^{(u+v)}+\mqty(0 & X_{\text{r.} u} \\ Y_{\text{c.} u} & Y^{(\text{c.} u)} X^{(\text{r.} u)}))
	\end{equation}
	where subscript $\text{r. }z,\text{c. }z$ specifies the rows or columns of a submatrix by inclusion of the index sequence $z$, and the superscript $(\text{r. }z),(\text{c. }z)$ specifies the rows or columns of a submatrix by omission of the index sequence $z$.
	\end{theorem}
	\textit{Proof.} Consider the explicit form of the sum formulated in the theorem:
	\begin{equation}
	\sum_{r=0}^{\min(m,n)}\sum_{\seq{a}\in\Gamma_r\seq{m^{(u)}}}\sum_{\seq{b}\in\Gamma_r\seq{n^{(v)}}}\det(X_{\seq{u}\oplus\seq{a},\seq{v}\oplus\seq{b}})\det(Y_{\seq{v}\oplus\seq{b},\seq{u}\oplus\seq{a}})
	\end{equation}
	where $\seq{x^{(y)}}$ signifies the sequence $\seq{x}$ with the first $y$ elements omitted.
	
	By applying the modified Cauchy-Binet formula \cite[App. C]{modified_cauchy_binet} we can contract either of the two sequences $\seq{a},\seq{b}$. Contracting sequence $\seq{a}$ yields
	\begin{equation}
	=(-1)^v\sum_{r=0}^{\min(m,n)}\sum_{\seq{a}\in\Gamma_r\seq{(m+v)^{(u+v)}}}\det(M_{\seq{u+v}\oplus\seq{a},\seq{u+v}\oplus\seq{a}})\qq{where}M=\mqty(0 & Y_{\text{r.} v} \\ X_{\text{c.} v} & X^{(\text{c.} v)}Y^{(\text{r.} v)})
	\end{equation}
	Applying lemma \ref{constrained sum of principal minors} directly yields the first result in the theorem. Contracting sequence $\seq{b}$ first and then applying the lemma yields the second result in the theorem. The proof is thus finished.
	
	\begin{theorem}\label{theorem: asymmetrically constrained sum of complementary minor products}
	Consider the following sum of asymmetrically constrained complementary minor products
	\begin{equation}
	S=\sum_{r}\sum_{\seq{a}\in\Gamma_{r_a}\seq{m}}\sum_{\seq{b}\in\Gamma_{r_b}\seq{n}}\det(X_{u_x\oplus\seq{a},v_x\oplus\seq{b}})\det(Y_{v_y\oplus\seq{b},u_y\oplus\seq{a}})
	\end{equation}
	where $u_x+v_y=v_x+u_y$ and $v_x\leq v_y$, $r_a$ and $r_b$ are taken such that the submatrices in each term are square, the sum over $r$ includes all possible square minors of $X,Y$ which satisfy the constraints, and where $D_{k\oplus\seq{l},m\oplus\seq{n}}$ is the smallest submatrix of $D$ which contains the upper left block of $D$ with shape $(k,m)$, as well as the submatrix of the lower right block of $D$ given by the row index sequence $\seq{l}$ and column index sequence $\seq{n}$. The sum evaluates to
	\begin{equation}
	S=(-1)^{v_y(1+v_y-v_x)}\det(I^{(u_x+v_y)}+\mqty(
		0_{v_y,v_x} & Y_{\text{r.} v_y}\\
		X_{\text{c.} v_x} & X^{(\text{c.} v_x)} Y^{(\text{r.} v_y)}
	))
	\end{equation}
	\end{theorem}
	\textit{Proof.} We start with a few observations. Firstly, the constraint $u_x+v_y=v_x+u_y$ is not arbitrary, and it is in fact necessary for the sum to be constructable, which can be seen from inspecting the dimensions of $X,Y$--this also makes the choice of $r_a,r_b$, and the summation limits of $r$ unique. Secondly, the notation $D_{k\oplus\seq{l},m\oplus\seq{n}}$ can be thought of as $D_{\seq{x},\seq{y}}$, where $\seq{x}$ is formed from indices $1\dots k$ concatenated with the sequence $\seq{l}$ where each element was increased by $k$, with construction of $\seq{y}$ being analogous. Thirdly, the fact only one of two possible contractions is presented follows from the minimal assumption $v_x\leq v_y$, which loses no generality. Should the opposite be true, relabelling $X,Y$ and $\seq{a},\seq{b}$ reduces the problem to its original form; should we instead specify $u_x\leq u_y$, relabelling $X,Y$ \textit{or} $\seq{a},\seq{b}$ once again reduces the problem to the statement above.
	
	Denote $\Delta v = v_y-v_x$. Consider the matrix $X'=I_{\Delta v}\oplus X$, i.e.
	\begin{equation}
	X'=\mqty(\dmat{I_{\Delta v}, X})\qq{hence}\det(X'_{u_x+\Delta v\oplus\seq{a},v_x+\Delta v\oplus\seq{b}})=\det(X_{u_x\oplus\seq{a},v_x\oplus\seq{b}})
	\end{equation}
	We can use the modified Cauchy-Binet formula to contract $\seq{b}$ like so:
	\begin{align}
	S=(-1)^{v_y}\sum_{r=0}^{\min(m,n)}\sum_{\seq{a}\in\Gamma_{r_a}\seq{m}}\det(M_{u_x+v_y\oplus\seq{a}, u_y+v_y\oplus\seq{a}})\qq{where}M=\mqty(
		0_{v_y,v_y} & Y_{\text{r.} v_y}\\
		X'_{\text{c.} v_y} & X'^{(\text{c.} v_y)} Y^{(\text{r.} v_y)}
	)
	\end{align}
	We now observe that
	\begin{equation}
	X'_{\text{c.} v_y} = \mqty(
		I_{\Delta v} & 0_{\Delta v, v_x}\\
		0_{v_x, \Delta v} & X_{\text{c.} v_x}
	)
	\end{equation}
	and since the first $\Delta v$ rows of $X'^{(\text{c.} v_y)}$ are zero, we also have
	\begin{equation}
	X'^{(\text{c.} v_y)} Y^{(\text{r.} v_y)} = \mqty(0_{\text{r.} \Delta v} \\ X^{(\text{c.} v_x)} Y^{(\text{r.} v_y)})
	\end{equation}
	Taking the Laplace expansion of $M$ for all $(\Delta v,\Delta v)$ minors along the first $\Delta v$ columns, there is only one non-zero contribution, which is $\det(I_{\Delta v})=1$. Considering its cofactor for any arbitrary constrained minor of $M$, we can rewrite the sum as
	\begin{equation}
	S = (-1)^{v_y(1+\Delta v)}\sum_{r=0}^{\min(m,n)}\sum_{\seq{a}\in\Gamma_{r_a}\seq{m}}\det(M'_{u_x+v_y\oplus\seq{a},v_x+u_y\oplus\seq{a}})\qq{where}M'=\mqty(
		0_{v_y,v_x} & Y_{\text{r.} v_y}\\
		X_{\text{c.} v_x} & X^{(\text{c.} v_x)}Y^{(\text{r.} v_y)}
	)
	\end{equation}
	Since $u_x+v_y=v_x+u_y$, this sum can be reducing by direct application of Lemma \ref{constrained sum of principal minors}, which finishes the proof.
	
	\textit{Note.} We shall now explicitly state the construction of $r_a, r_b$ and the summation limits on $r$. Since we demand the submatrices of $X, Y$ be square, we have
	\begin{eqnarray}
	u_x + r_a = v_x + r_b = r \geq 0\\
	u_y + r_a = v_y + r_b = r \geq 0
	\end{eqnarray}
	To satisfy both equations and inequalities, we take
	\begin{multline}
	r_a=r - \min(u_x,u_y),\qquad r_b=r - \min(v_x,v_y),\\
	r = \max(\min(u_x, u_y), \min(v_x, v_y))\dots \min(X_{\text{rows}}-u_x+\min(u_x, u_y),X_{\text{cols}}-v_x+\min(v_x, v_y))
	\end{multline}
	
	\section{Ratio of full and reduced determinant product}
	\begin{theorem}\label{theorem: ratio of full and reduced determinant product}
	Consider two rectangular matrices $A, B$ of dimensions $(m,n), (n,m)$, respectively. Consider two index sequences $\seq{\rho}\subset\seq{m},\seq{\sigma}\subset\seq{n}$. Define the auxiliary matrix
	\begin{equation}
	X = (I+AB)^{(\text{r.} \rho, \text{c.} \rho)}
	\end{equation}
	Then, the following equation holds:
	\begin{equation}
	\frac{\det(I+AB)}{\det(I+A^{(\text{r.} \rho,\text{c.} \sigma)}B^{(\text{r.} \sigma,\text{c.} \rho)})}=\frac{\det(I+A_{\text{r.} \seq{\rho}}(I-B^{(\text{c.} \rho)}X^{-1} A^{(\text{r.} \rho)})B_{\text{c.} \seq{\rho}})}{\det(I-B_{\text{r.} \seq{\sigma}}^{(\text{c.} \rho)}X^{-1} A_{\text{c.} \seq{\sigma}}^{(\text{r.} \rho)})}
	\end{equation}
	\end{theorem}
	\textit{Proof.} By simultaneous reordering of rows and columns, which corresponds to a determinant-preserving similarity transformation:
	\begin{equation}
	\det(I+AB)=\det(\mqty{
		I+A_{\text{r.} \seq{\rho}}B_{\text{c.} \seq{\rho}} & A_{\text{r.} \seq{\rho}}B^{(\text{c.} \rho)}\\
		A^{(\text{r.} \rho)}B_{\text{c.} \seq{\rho}} & X
	})
	\end{equation}
	By Schur's formula:
	\begin{equation}\label{eq: det master by det X}
	\det(I+AB)=\det(X)\det(I+A_{\text{r.} \seq{\rho}}B_{\text{c.} \seq{\rho}} - A_{\text{r.} \seq{\rho}}B^{(\text{c.} \rho)}X^{-1}A^{(\text{r.} \rho)}B_{\text{c.} \seq{\rho}})
	\end{equation}
	We express
	\begin{equation}
	X = I+A^{(\text{r.} \rho,\text{c.} \sigma)}B^{(\text{r.} \sigma,\text{c.} \rho)} + A_{\text{c.} \seq{\sigma}}^{(\text{r.} \rho)}B_{\text{r.} \seq{\sigma}}^{(\text{c.} \rho)}
	\end{equation}
	which under the matrix determinant lemma yields
	\begin{equation}
	\det(X)=\det(I+A^{(\text{r.} \rho,\text{c.} \sigma)}B^{(\text{r.} \sigma,\text{c.} \rho)})\det(I+B_{\text{r.} \seq{\sigma}}^{(\text{c.} \rho)}(I+A^{(\text{r.} \rho,\text{c.} \sigma)}B^{(\text{r.} \sigma,\text{c.} \rho)})^{-1}A_{\text{c.} \seq{\sigma}}^{(\text{r.} \rho)})
	\end{equation}
	Applying the Woodbury identity for matrix inverse also allows us to express
	\begin{equation}
	(I+A^{(\text{r.} \rho,\text{c.} \sigma)}B^{(\text{r.} \sigma,\text{c.} \rho)})^{-1}=X^{-1}+X^{-1}A_{\text{c.} \seq{\sigma}}^{(\text{r.} \rho)}\left(I-B_{\text{r.} \seq{\sigma}}^{(\text{c.} \rho)}X^{-1}A_{\text{c.} \seq{\sigma}}^{(\text{r.} \rho)}\right)^{-1}B_{\text{r.} \seq{\sigma}}^{(\text{c.} \rho)}X^{-1}
	\end{equation}
	Denoting
	\begin{equation}
	P=B_{\text{r.} \seq{\sigma}}^{(\text{c.} \rho)}X^{-1}A_{\text{c.} \seq{\sigma}}^{(\text{r.} \rho)}
	\end{equation}
	we see that
	\begin{align}
	I+B_{\text{r.} \seq{\sigma}}^{(\text{c.} \rho)}(I+A^{(\text{r.} \rho,\text{c.} \sigma)}B^{(\text{r.} \sigma,\text{c.} \rho)})^{-1}A_{\text{c.} \seq{\sigma}}^{(\text{r.} \rho)}&= I+P+P(I-P)^{-1}P\nonumber\\
	&= I+P-(I-P-I)(I-P)^{-1}P\nonumber\\
	&= I+P-P+(I-P)^{-1}P\nonumber\\
	&= (I-P)^{-1}(I-P)+(I-P)^{-1}P\nonumber\\
	&= (I-P)^{-1}
	\end{align}
	hence
	\begin{equation}\label{eq: det X by P}
	\det(X)=\frac{\det(I+A^{(\text{r.} \rho,\text{c.} \sigma)}B^{(\text{r.} \sigma,\text{c.} \rho)})}{\det(I-B_{\text{r.} \seq{\sigma}}^{(\text{c.} \rho)}X^{-1}A_{\text{c.} \seq{\sigma}}^{(\text{r.} \rho)})}
	\end{equation}
	Substituting Eq. \ref{eq: det X by P} into Eq. \ref{eq: det master by det X} finishes the proof.
	
	\begin{thebibliography}{10}
	
	\bibitem{dynamical_groups}
	Paldus, J. (2006). Dynamical Groups. In: Drake, G. (eds) \textit{Springer Handbook of Atomic, Molecular, and Optical Physics}. Springer Handbooks. Springer, New York, NY. \href{https://doi.org/10.1007/978-0-387-26308-3\_4}{doi.org/10.1007/978-0-387-26308-3\_4}
	
	\bibitem{fermionic_definition}
	Greiner, W., Maruhn, J. A. (1996), \textit{Nuclear Models}. 1st edn. Springer Berlin, Heidelberg. \href{https://doi.org/10.1007/978-3-642-60970-1}{doi.org/10.1007/978-3-642-60970-1}
	
	\bibitem{buonsante}
	Buonsante, P., Penna, V. (2008), Some remarks on the coherent-state variational approach to nonlinear boson models. \textit{J. Phys. A: Math. Theor.}, \textbf{41}, 175301. \href{https://doi.org/10.1088/1751-8113/41/17/175301}{doi.org/10.1088/1751-8113/41/17/175301}
	
	\bibitem{modified_cauchy_binet}
	Chapman, A., Miyake, A. (2018), Classical simulation of quantum circuits by dynamical localization: analytic results for Pauli-observable scrambling in time-dependent disorder. Available at \href{https://arxiv.org/pdf/1704.04405v2}{arxiv.org/pdf/1704.04405v2 [quant-ph]}
	
	\bibitem{charpol}
	Horn, R. A., Johnson, C. R. (2012), \textit{Matrix Analysis}. 2nd edn. Cambridge University Press, Cambridge. \href{https://doi.org/10.1017/CBO9781139020411}{doi.org/10.1017/CBO9781139020411 }
	
	\bibitem{reverse_bordering}
	 Brezinski, C., Morandi Cecchi, M., Redivo-Zaglia, M. (1994), The reverse bordering method. \textit{SIAM J. Matrix Anal. Appl.}, \textbf{15}, 3, pp. 922--937. \href{https://doi.org/10.1137/S0895479892227761}{doi.org/10.1137/S0895479892227761}

	\end{thebibliography}	
	
\end{document}